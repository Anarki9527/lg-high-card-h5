window.__require=function e(t,o,i){function n(a,r){if(!o[a]){if(!t[a]){var c=a.split("/");if(c=c[c.length-1],!t[c]){var l="function"==typeof __require&&__require;if(!r&&l)return l(c,!0);if(s)return s(c,!0);throw new Error("Cannot find module '"+a+"'")}a=c}var u=o[a]={exports:{}};t[a][0].call(u.exports,function(e){return n(t[a][1][e]||e)},u,u.exports,e,t,o,i)}return o[a].exports}for(var s="function"==typeof __require&&__require,a=0;a<i.length;a++)n(i[a]);return n}({AutoReleaseAssets:[function(e,t,o){"use strict";cc._RF.push(t,"4f23a5XkTlMmb/eI8feNdoK","AutoReleaseAssets");var i=this&&this.__decorate||function(e,t,o,i){var n,s=arguments.length,a=s<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,i);else for(var r=e.length-1;r>=0;r--)(n=e[r])&&(a=(s<3?n(a):s>3?n(t,o,a):n(t,o))||a);return s>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0}),cc.Component.prototype.addAutoReleaseAsset=function(e){let t=this.node.getComponent(r);cc.isValid(t)||(t=this.node.addComponent(r)),t.addAutoReleaseAsset(e)},cc.Component.prototype.addAutoReleaseAssets=function(e){let t=this.node.getComponent(r);cc.isValid(t)||(t=this.node.addComponent(r));for(const o of e)t.addAutoReleaseAsset(o)};const{ccclass:n,menu:s,disallowMultiple:a}=cc._decorator;let r=class extends cc.Component{constructor(){super(...arguments),this.dynamicsAssets=[]}addAutoReleaseAsset(e){cc.isValid(e)&&(e.addRef(),this.dynamicsAssets.push(e),console.log("\u5f53\u524d\u52a8\u6001\u8d44\u6e90\u957f\u5ea6=="+this.dynamicsAssets.length))}onDestroy(){for(let e=0;e<this.dynamicsAssets.length;e++)cc.isValid(this.dynamicsAssets[e])&&this.dynamicsAssets[e].decRef();this.dynamicsAssets=[]}};r=i([n,s("\u8d44\u6e90\u7ba1\u7406/AutoReleaseAssets/\u81ea\u52a8\u91ca\u653e\u8d44\u6e90"),a],r),o.default=r,cc._RF.pop()},{}],AwardLayer:[function(e,t,o){"use strict";cc._RF.push(t,"d5e1cdeqlJAJamaQFyHOTGv","AwardLayer");var i=this&&this.__decorate||function(e,t,o,i){var n,s=arguments.length,a=s<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,i);else for(var r=e.length-1;r>=0;r--)(n=e[r])&&(a=(s<3?n(a):s>3?n(t,o,a):n(t,o))||a);return s>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});const n=e("./Common/PopupBase"),s=e("./Common/UIUtils"),{ccclass:a,property:r,menu:c}=cc._decorator;let l=class extends n.default{constructor(){super(...arguments),this.amount=null,this.animationDuration=.3}static get path(){return"Scenes/Game/award_layer"}onLoad(){this.main||(this.main=this.node)}init(){this.scheduleOnce(()=>{this.hide()},2)}playShowAnimation(e){return new Promise(t=>{const o=this.background,i=this.main;this.node.active=!0,o.active=!0,o.opacity=0,i.active=!0,i.scale=.5,i.opacity=0,cc.tween(o).to(.5*e,{opacity:150}).start(),cc.tween(i).to(e,{scale:1,opacity:255},{easing:"smooth"}).to(.1,{scale:.9,opacity:255},{easing:"smooth"}).to(.1,{scale:1,opacity:255},{easing:"smooth"}).call(t).start()})}updateDisplay(e){let t={num:0};this.amount.string=t.num,cc.tween(t).to(1,{num:e},{progress:(e,t,o,i)=>{let n=Math.ceil(e+(t-e)*i);return this.amount.string="\u20b9"+s.UIUtils.getShortNumber(n,!0),e+(t-e)*i}}).start()}};i([r(cc.Label)],l.prototype,"amount",void 0),l=i([a],l),o.default=l,cc._RF.pop()},{"./Common/PopupBase":"PopupBase","./Common/UIUtils":"UIUtils"}],BetChip:[function(e,t,o){"use strict";cc._RF.push(t,"567c4AQwM9JxJXy5gJtMWf2","BetChip");var i=this&&this.__decorate||function(e,t,o,i){var n,s=arguments.length,a=s<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,i);else for(var r=e.length-1;r>=0;r--)(n=e[r])&&(a=(s<3?n(a):s>3?n(t,o,a):n(t,o))||a);return s>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});const n=e("../MobileKit/MKIndex"),s=e("../Business/Data/DataManager"),a=e("./Common/UIUtils"),{ccclass:r,property:c,menu:l}=cc._decorator;let u=class extends cc.Component{constructor(){super(...arguments),this.txtAmount=null,this.imgBackground=null,this.betType=null,this.betAmount=0}onLoad(){n.noticeCenter.registAllNotice(this)}setBetSum(e){let t=s.default.homeData.getChipLst()[s.default.userData.getSelectChip()];this.txtAmount.string=a.UIUtils.getShortNumber(t),this.setStyle(t),this.betType=e,this.betAmount=t}setStyle(e){let t=s.default.homeData.getChipLst();switch(e){case t[0]:this.node.color=cc.Color.WHITE;break;case t[1]:this.node.color=cc.Color.RED;break;case t[2]:this.node.color=cc.Color.GREEN;break;case t[3]:this.node.color=cc.Color.BLUE;break;case t[4]:this.node.color=cc.Color.YELLOW;break;case t[5]:this.node.color=cc.Color.ORANGE;break;case t[6]:this.node.color=cc.Color.CYAN;break;case t[7]:this.node.color=cc.Color.MAGENTA;break;case t[8]:this.node.color=cc.Color.GRAY;break;case t[9]:this.node.color=cc.Color.BLACK}}};i([c(cc.Label)],u.prototype,"txtAmount",void 0),i([c(cc.Sprite)],u.prototype,"imgBackground",void 0),u=i([r],u),o.default=u,cc._RF.pop()},{"../Business/Data/DataManager":"DataManager","../MobileKit/MKIndex":"MKIndex","./Common/UIUtils":"UIUtils"}],BetData:[function(e,t,o){"use strict";cc._RF.push(t,"9ece0iQEuVAH5ptA5hFfJkC","BetData"),Object.defineProperty(o,"__esModule",{value:!0}),o.BettingOrderInfo=o.BetAreaData=o.BetAreaInfo=void 0,o.BetAreaInfo=class{constructor(){this.chipPlace=null,this.betSum=0}},o.BetAreaData=new Map,o.BettingOrderInfo=class{constructor(){this.betKey="",this.betAmount=0}},cc._RF.pop()},{}],ChipSettingLayer:[function(e,t,o){"use strict";cc._RF.push(t,"db0a97PVdJKfKAjv7+g21vD","ChipSettingLayer");var i=this&&this.__decorate||function(e,t,o,i){var n,s=arguments.length,a=s<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,i);else for(var r=e.length-1;r>=0;r--)(n=e[r])&&(a=(s<3?n(a):s>3?n(t,o,a):n(t,o))||a);return s>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});const n=e("../MobileKit/MKIndex"),s=e("../Business/Data/DataManager"),a=e("./Common/PopupBase"),r=e("./Common/UIUtils"),c=e("../Business/Logic/GameNotice"),{ccclass:l,property:u,menu:h}=cc._decorator;let d=class extends a.default{constructor(){super(...arguments),this.betChipsNode=null,this.chipSelect=null,this.animationDuration=0,this.betChips=[],this.selectIdx=0,this.chipLst=[]}static get path(){return"Scenes/Game/chipSetting_layer"}onLoad(){this.main||(this.main=this.node),this.chipLst=s.default.homeData.getChipLst(),this.betChipsNode.children.forEach((e,t)=>{e.getComponentInChildren(cc.Label).string=r.UIUtils.getShortNumber(this.chipLst[t]),this.setStyle(this.chipLst[t],e);let o=e.getComponent(cc.Button);this.betChips.push(o)}),this.selectIdx=s.default.userData.getSelectChip(),this.chipSelect.node.setParent(this.betChips[this.selectIdx].node)}setStyle(e,t){let o=s.default.homeData.getChipLst();switch(e){case o[0]:t.color=cc.Color.WHITE;break;case o[1]:t.color=cc.Color.RED;break;case o[2]:t.color=cc.Color.GREEN;break;case o[3]:t.color=cc.Color.BLUE;break;case o[4]:t.color=cc.Color.YELLOW;break;case o[5]:t.color=cc.Color.ORANGE;break;case o[6]:t.color=cc.Color.CYAN;break;case o[7]:t.color=cc.Color.MAGENTA;break;case o[8]:t.color=cc.Color.GRAY;break;case o[9]:t.color=cc.Color.BLACK}}onTouchClose(){this.hide()}onTouchSelectChip(e,t){this.selectIdx=t,this.chipSelect.node.setParent(this.betChips[t].node)}onTouchConfirm(){let e=new c.NtcChipSetting;s.default.userData.setSelectChip(this.selectIdx),n.noticeCenter.emit(e),this.hide()}};i([u(cc.Node)],d.prototype,"betChipsNode",void 0),i([u(cc.Sprite)],d.prototype,"chipSelect",void 0),d=i([l],d),o.default=d,cc._RF.pop()},{"../Business/Data/DataManager":"DataManager","../Business/Logic/GameNotice":"GameNotice","../MobileKit/MKIndex":"MKIndex","./Common/PopupBase":"PopupBase","./Common/UIUtils":"UIUtils"}],CommonDefine:[function(e,t,o){"use strict";cc._RF.push(t,"9efc0rsiaVG/piSLAHE8XaR","CommonDefine"),Object.defineProperty(o,"__esModule",{value:!0}),o.PrefabList=o.Odds=o.LangList=o.SymbolTypeNum=o.SymbolType=o.GameStage=o.SceneType=o.UserType=o.BetType=void 0,function(e){e[e.Left=0]="Left",e[e.Tie=1]="Tie",e[e.Right=2]="Right"}(o.BetType||(o.BetType={})),function(e){e[e.Guest=1]="Guest",e[e.Account=2]="Account"}(o.UserType||(o.UserType={})),function(e){e[e.Loading=0]="Loading",e[e.Lobby=1]="Lobby",e[e.Game=2]="Game"}(o.SceneType||(o.SceneType={})),function(e){e[e.Wait=0]="Wait",e[e.Prepare=1]="Prepare",e[e.Rolling=2]="Rolling",e[e.Finish=3]="Finish"}(o.GameStage||(o.GameStage={})),function(e){e.Club="Club",e.Flag="Flag",e.Spades="Spades",e.Diamond="Diamond",e.Crown="Crown",e.Heart="Heart",e.Mid="Mid"}(o.SymbolType||(o.SymbolType={})),function(e){e[e.Club=0]="Club",e[e.Flag=1]="Flag",e[e.Spades=2]="Spades",e[e.Diamond=3]="Diamond",e[e.Crown=4]="Crown",e[e.Heart=5]="Heart",e[e.Mid=6]="Mid"}(o.SymbolTypeNum||(o.SymbolTypeNum={})),function(e){e[e.en=0]="en",e[e.hi=1]="hi"}(o.LangList||(o.LangList={})),o.Odds=[2.5,2,4,15,100,1250,4e4,3.2];class i{}o.PrefabList=i,i.AwardLayer="Scenes/Game/award_layer",i.ChipSettingLayer="Scenes/Game/chipSetting_layer",i.LowBalanceLayer="Scenes/Game/low_balance_layer",i.MenuLayer="Scenes/Game/menu_layer",i.PaytableLayer="Scenes/Game/paytable_layer",i.HelpLayer="Scenes/Game/help_layer",i.LanguageLayer="Scenes/Game/language_layer",i.GameRecordLayer="Scenes/Game/game_record_layer",i.TrendLayer="Scenes/Game/trend_layer",i.BetChip="Scenes/Game/betChip",i.RecordCell="Scenes/Game/RecordCell",i.TrendCell="Scenes/Game/TrendCell",cc._RF.pop()},{}],ConfigManager:[function(e,t,o){"use strict";cc._RF.push(t,"61ecdS7zDhJaIyXsWMOoGLM","ConfigManager"),Object.defineProperty(o,"__esModule",{value:!0});class i{static setUrlConfig(e){i.urlConfig=e}static setAppInfo(e){i.appInfo=e}}o.default=i,i.urlConfig=null,i.appInfo=null,cc._RF.pop()},{}],DataManager:[function(e,t,o){"use strict";cc._RF.push(t,"bb44c7d08JNtpYy1h8nVOKI","DataManager"),Object.defineProperty(o,"__esModule",{value:!0});const i=e("./UserData"),n=e("./HomeData"),s=e("./GameData");class a{static init(){a.userData=new i.default,a.homeData=new n.HomeData,a.gameData=new s.default}}o.default=a,cc._RF.pop()},{"./GameData":"GameData","./HomeData":"HomeData","./UserData":"UserData"}],GameAction:[function(e,t,o){"use strict";cc._RF.push(t,"e7fe19v0cFLur0Zkt3DLO+b","GameAction");var i=this&&this.__decorate||function(e,t,o,i){var n,s=arguments.length,a=s<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,i);else for(var r=e.length-1;r>=0;r--)(n=e[r])&&(a=(s<3?n(a):s>3?n(t,o,a):n(t,o))||a);return s>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});const{ccclass:n,property:s,menu:a}=cc._decorator;let r=class extends cc.Component{constructor(){super(...arguments),this.btnPlay=null,this.btnSelectChip=null,this.btnReset=null,this.btnMenu=null,this.btnReturn=null,this.btnRecord=null}};i([s(cc.Button)],r.prototype,"btnPlay",void 0),i([s(cc.Button)],r.prototype,"btnSelectChip",void 0),i([s(cc.Button)],r.prototype,"btnReset",void 0),i([s(cc.Button)],r.prototype,"btnMenu",void 0),i([s(cc.Button)],r.prototype,"btnReturn",void 0),i([s(cc.Button)],r.prototype,"btnRecord",void 0),r=i([n],r),o.default=r,cc._RF.pop()},{}],GameController:[function(e,t,o){"use strict";cc._RF.push(t,"b33e4rPpodINYZCfe4x62BN","GameController");var i=this&&this.__decorate||function(e,t,o,i){var n,s=arguments.length,a=s<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,i);else for(var r=e.length-1;r>=0;r--)(n=e[r])&&(a=(s<3?n(a):s>3?n(t,o,a):n(t,o))||a);return s>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0}),o.GameController=o.CmdGameStart=void 0;const n=e("../../MobileKit/MKIndex"),s=e("../../Business/Data/ConfigManager"),a=e("../../Business/Data/DataManager");let r=class{};r=i([n.createCommand],r),o.CmdGameStart=r;class c extends n.Controller{constructor(){super(),this.setName("SettingController"),n.noticeCenter.registAllNotice(this),n.commandCenter.registAllCommand(this)}onExit(){n.noticeCenter.targetOff(this),n.commandCenter.targetOff(this)}onCmdGameStart(e){s.default.urlConfig.base;let t={};t.token=a.default.userData.getCert(),t.userid=a.default.userData.getUid(),t.betamount=e.betAmount,t.betinfo=e.betInfo,cc.log("gamestart params = "+JSON.stringify(t)),this.onGameStart(!0,t)}onGameStart(e,t){}}i([n.onCommand(r)],c.prototype,"onCmdGameStart",null),o.GameController=c,cc._RF.pop()},{"../../Business/Data/ConfigManager":"ConfigManager","../../Business/Data/DataManager":"DataManager","../../MobileKit/MKIndex":"MKIndex"}],GameData:[function(e,t,o){"use strict";cc._RF.push(t,"587c8jaYAZM36hqR3idCuRU","GameData"),Object.defineProperty(o,"__esModule",{value:!0});const i=e("./CommonDefine");o.default=class{constructor(){this.m_gameStage=i.GameStage.Prepare,this.m_leftBetSum=0,this.m_tieBetSum=0,this.m_rightBetSum=0,this.m_trendList=[]}getGameStage(){return this.m_gameStage}setGameStage(e){this.m_gameStage=e}getLeftBetSum(){return this.m_leftBetSum}setLeftBetSum(e){this.m_leftBetSum=e}getTieBetSum(){return this.m_tieBetSum}setTieBetSum(e){this.m_tieBetSum=e}getRightBetSum(){return this.m_rightBetSum}setRightBetSum(e){this.m_rightBetSum=e}getTrendList(){return this.m_trendList}setTrendList(e){this.m_trendList=e}},cc._RF.pop()},{"./CommonDefine":"CommonDefine"}],GameNotice:[function(e,t,o){"use strict";cc._RF.push(t,"31af3V/1NxB4o3CuR3dhUJ9","GameNotice");var i=this&&this.__decorate||function(e,t,o,i){var n,s=arguments.length,a=s<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,i);else for(var r=e.length-1;r>=0;r--)(n=e[r])&&(a=(s<3?n(a):s>3?n(t,o,a):n(t,o))||a);return s>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0}),o.NtcWinResult=o.NtcChipSetting=o.NtcPlaceChips=void 0;const n=e("../../MobileKit/MKIndex");let s=class{};s=i([n.createNotice],s),o.NtcPlaceChips=s;let a=class{};a=i([n.createNotice],a),o.NtcChipSetting=a;let r=class{};r=i([n.createNotice],r),o.NtcWinResult=r,cc._RF.pop()},{"../../MobileKit/MKIndex":"MKIndex"}],GameRecordLayer:[function(e,t,o){"use strict";cc._RF.push(t,"76d256602JCGZ6NhZiNIqo9","GameRecordLayer");var i=this&&this.__decorate||function(e,t,o,i){var n,s=arguments.length,a=s<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,i);else for(var r=e.length-1;r>=0;r--)(n=e[r])&&(a=(s<3?n(a):s>3?n(t,o,a):n(t,o))||a);return s>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});const n=e("../Business/Data/DataManager"),s=e("./Common/PopupBase"),a=e("./RecordCell"),r=e("./Common/PrefabPool"),c=e("../Business/Data/CommonDefine"),{ccclass:l,property:u,menu:h}=cc._decorator;let d=class extends s.default{constructor(){super(...arguments),this.gameRecordContent=null,this.recordScroll=null,this.noDataTips=null,this.nowTime=null,this.today=null}static get path(){return"Scenes/Game/game_record_layer"}onLoad(){this.main||(this.main=this.node),this.nowTime=new Date(Date.now()),this.today=new Date(this.nowTime.getFullYear(),this.nowTime.getMonth(),this.nowTime.getDate())}updateDisplay(){this.setGameRecordData(),this.recordScroll.scrollToTop()}onTouchClose(){this.hide()}onTouchToday(){this.setGameRecordData(this.today.getTime())}onTouchYesterday(){this.setGameRecordData(this.today.getTime()-864e5)}onTouchAllTime(){this.setGameRecordData()}setGameRecordData(e){let t=n.default.userData.getGameRecordLst();if(this.gameRecordContent.removeAllChildren(),0!=t.length){if(this.noDataTips.active=!1,e){let o=e+864e5;t=t.filter(t=>e<=t.time&&t.time<=o)}t.sort((e,t)=>t.time-e.time),t.forEach(e=>{let t=r.default.get(c.PrefabList.RecordCell);this.gameRecordContent.addChild(t),t.active=!0,t.getComponent(a.RecordCell).setData(e)}),this.resetContentSize()}else this.noDataTips.active=!0}resetContentSize(){let e=0;this.gameRecordContent.children.forEach(t=>{1==t.active&&(e+=t.height)}),this.gameRecordContent.height=e+50}};i([u(cc.Node)],d.prototype,"gameRecordContent",void 0),i([u(cc.ScrollView)],d.prototype,"recordScroll",void 0),i([u(cc.Node)],d.prototype,"noDataTips",void 0),d=i([l],d),o.default=d,cc._RF.pop()},{"../Business/Data/CommonDefine":"CommonDefine","../Business/Data/DataManager":"DataManager","./Common/PopupBase":"PopupBase","./Common/PrefabPool":"PrefabPool","./RecordCell":"RecordCell"}],GameScene:[function(e,t,o){"use strict";cc._RF.push(t,"a7d62FcWh5K2YaaMxNMEQCG","GameScene");var i=this&&this.__decorate||function(e,t,o,i){var n,s=arguments.length,a=s<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,i);else for(var r=e.length-1;r>=0;r--)(n=e[r])&&(a=(s<3?n(a):s>3?n(t,o,a):n(t,o))||a);return s>3&&a&&Object.defineProperty(t,o,a),a},n=this&&this.__awaiter||function(e,t,o,i){return new(o||(o=Promise))(function(n,s){function a(e){try{c(i.next(e))}catch(t){s(t)}}function r(e){try{c(i.throw(e))}catch(t){s(t)}}function c(e){var t;e.done?n(e.value):(t=e.value,t instanceof o?t:new o(function(e){e(t)})).then(a,r)}c((i=i.apply(e,t||[])).next())})};Object.defineProperty(o,"__esModule",{value:!0});const s=e("../MobileKit/MKIndex"),a=e("../Business/Data/DataManager"),r=e("../Business/Data/CommonDefine"),c=e("./BetChip"),l=e("../Business/Logic/GameNotice"),u=e("./Common/UIUtils"),h=e("./Common/PopupManager"),d=e("./Common/PrefabPool"),p=e("./PokerNode"),m=e("./Common/MessageView"),g=e("./RecordCell"),{ccclass:f,property:y,menu:_}=cc._decorator;let b=class extends cc.Component{constructor(){super(...arguments),this.nowLanguage=r.LangList.en,this.txtBalance=null,this.txtBet=null,this.betChip=null,this.selectChip=null,this.txtTips=null,this.btnPlay=null,this.btnSelectChip=null,this.btnReset=null,this.btnMenu=null,this.btnReturn=null,this.btnRecord=null,this.btnTrend=null,this.pokerLeft=null,this.pokerRight=null,this.txtResult=null,this.txtLeftBetSum=null,this.txtTieBetSum=null,this.txtRightBetSum=null,this.btnLeftBet=null,this.btnTieBet=null,this.btnRightBet=null,this.imgLeftFrame=null,this.imgTieFrame=null,this.imgRightFrame=null,this.chipFlyStart=null,this.chipNode=null,this.playerBet=0,this.betAmount=20,this.firstPlay=!0,this.bettingOrder=[]}get language(){return this.nowLanguage}set language(e){this.nowLanguage=e,s.LocalLang.setLanguage(r.LangList[e])}onLoad(){s.noticeCenter.registAllNotice(this),this.initUI(),this.resetPoker(),this.updateBalance(),this.updateSelectChip(),this.updateBetSum(),this.clearBetData(),s.AudioEngine.playMusic("Sound/bgm_hall",!0),this.txtResult.string=""}initUI(){this.btnPlay.node.on("click",this.onTouchPlay,this),this.btnSelectChip.node.on("click",this.onTouchChipSet,this),this.btnReset.node.on("click",this.onTouchClear,this),this.btnMenu.node.on("click",this.onTouchMenu,this),this.btnReturn.node.on("click",this.onTouchReturn,this),this.btnLeftBet.node.on("click",this.onTouchLeftBet,this),this.btnTieBet.node.on("click",this.onTouchTieBet,this),this.btnRightBet.node.on("click",this.onTouchRightBet,this),this.btnRecord.node.on("click",this.onTouchRecord,this),this.btnTrend.node.on("click",this.onTouchTrend,this)}resetPoker(){let e=s.Utils.randRange(0,51),t=s.Utils.randRange(0,51);this.pokerLeft.setPoker(e),this.pokerRight.setPoker(t),u.UIUtils.flipToBack(this.pokerLeft.node,.5,()=>{this.pokerLeft.setPoker(-1)}),u.UIUtils.flipToBack(this.pokerRight.node,.5,()=>{this.pokerRight.setPoker(-1)})}clearBetData(){this.bettingOrder.forEach(e=>{d.default.put(e.node,c.default)}),a.default.gameData.setLeftBetSum(0),a.default.gameData.setTieBetSum(0),a.default.gameData.setRightBetSum(0),this.playerBet=0,this.updateBalance(),this.updateBetSum(),this.betAreaShining(this.imgLeftFrame),this.betAreaShining(this.imgRightFrame),this.betAreaShining(this.imgTieFrame)}onTouchPlay(){if(a.default.gameData.getGameStage()!=r.GameStage.Prepare)return;let e=a.default.userData.getBalance();e<this.playerBet?h.default.show(r.PrefabList.LowBalanceLayer):(this.playerBet,this.txtTips.string=s.LocalLang.get("game_goodluck_tips"),this.txtResult.string="",this.updateBtnState(!1),this.showPoker(),a.default.gameData.setGameStage(r.GameStage.Rolling),a.default.userData.setBalance(e-this.playerBet),this.updateBalance())}onTouchClear(){this.clearBetData()}onTouchChipSet(){const e={mode:h.default.CacheMode.Frequent};h.default.show(r.PrefabList.ChipSettingLayer,{},e)}onTouchMenu(){h.default.show(r.PrefabList.MenuLayer)}onTouchRecord(){h.default.show(r.PrefabList.GameRecordLayer)}onTouchTrend(){h.default.show(r.PrefabList.TrendLayer)}onTouchReturn(){if(0==this.bettingOrder.length)return;let e=this.bettingOrder.pop();if(d.default.put(e.node,c.default),e.betType==r.BetType.Left){let t=a.default.gameData.getLeftBetSum()-e.betAmount;a.default.gameData.setLeftBetSum(t)}else if(e.betType==r.BetType.Tie){let t=a.default.gameData.getTieBetSum()-e.betAmount;a.default.gameData.setTieBetSum(t)}else{let t=a.default.gameData.getRightBetSum()-e.betAmount;a.default.gameData.setRightBetSum(t)}this.playerBet-=e.betAmount,this.updateBalance(),this.updateBetSum()}onTouchLeftBet(e){a.default.gameData.getGameStage()==r.GameStage.Prepare&&(0==a.default.gameData.getRightBetSum()?this.betByType(r.BetType.Left,e.node):m.default.show(s.LocalLang.get("game_bet_one_side")))}onTouchTieBet(e){a.default.gameData.getGameStage()==r.GameStage.Prepare&&this.betByType(r.BetType.Tie,e.node)}onTouchRightBet(e){a.default.gameData.getGameStage()==r.GameStage.Prepare&&(0==a.default.gameData.getLeftBetSum()?this.betByType(r.BetType.Right,e.node):m.default.show(s.LocalLang.get("game_bet_one_side")))}betByType(e,t){let o=d.default.get(r.PrefabList.BetChip),i=o.getComponent(c.default);i.setBetSum(e),i.node.setParent(t.parent);let n=this.chipRandomPos(t,o);u.UIUtils.chipFly(this.chipFlyStart,n,i.node,.75),this.bettingOrder.push(i);let s=0;e==r.BetType.Left?(s=a.default.gameData.getLeftBetSum()+this.getSelectChip(),a.default.gameData.setLeftBetSum(s)):e==r.BetType.Tie?(s=a.default.gameData.getTieBetSum()+this.getSelectChip(),a.default.gameData.setTieBetSum(s)):(s=a.default.gameData.getRightBetSum()+this.getSelectChip(),a.default.gameData.setRightBetSum(s)),this.updateBetSum(),this.playerBet+=this.getSelectChip(),this.updateBalance()}chipRandomPos(e,t){let o=new cc.Vec3,i=e.x-e.width/2+t.width/2,n=e.x+e.width/2-t.width/2,a=e.y-e.height/2+t.height/2,r=e.y+e.height/2-t.height/2;return o.x=s.Utils.randRange(i,n),o.y=s.Utils.randRange(a,r),o}getSelectChip(){return a.default.homeData.getChipLst()[a.default.userData.getSelectChip()]}showPoker(){return n(this,void 0,void 0,function*(){let e=s.Utils.randRange(0,51),t=s.Utils.randRange(0,51);this.firstPlay?(u.UIUtils.flipToFront(this.pokerLeft.node,.5,()=>{this.pokerLeft.setPoker(e)}),u.UIUtils.flipToFront(this.pokerRight.node,.5,()=>{this.pokerRight.setPoker(t)}),yield u.UIUtils.promiseSleep(.5),this.firstPlay=!1):(u.UIUtils.flipToBack(this.pokerLeft.node,.5,()=>{this.pokerLeft.setPoker(-1)}),u.UIUtils.flipToBack(this.pokerRight.node,.5,()=>{this.pokerRight.setPoker(-1)}),yield u.UIUtils.promiseSleep(.5),u.UIUtils.flipToFront(this.pokerLeft.node,.5,()=>{this.pokerLeft.setPoker(e)}),u.UIUtils.flipToFront(this.pokerRight.node,.5,()=>{this.pokerRight.setPoker(t)}),yield u.UIUtils.promiseSleep(.5)),this.resultJudgment(e,t)})}resultJudgment(e,t){e%=13,t%=13;let o=0,i=r.BetType.Left;e>t?(this.txtResult.string=s.LocalLang.get("game_left_win"),o+=2*a.default.gameData.getLeftBetSum(),this.betAreaShining(this.imgLeftFrame),i=r.BetType.Left):e<t?(this.txtResult.string=s.LocalLang.get("game_right_win"),o+=2*a.default.gameData.getRightBetSum(),this.betAreaShining(this.imgRightFrame),i=r.BetType.Right):e==t&&(this.txtResult.string=s.LocalLang.get("game_tie"),o+=10*a.default.gameData.getTieBetSum(),this.betAreaShining(this.imgTieFrame),i=r.BetType.Tie),a.default.gameData.getTrendList().unshift(i);let n=new g.RecordData;n.time=(new Date).getTime(),n.betType=i,n.amount=this.playerBet,n.result=o,a.default.userData.getGameRecordLst().push(n),0!=o?(this.scheduleOnce(()=>{let e=new l.NtcWinResult;e.award=o,s.noticeCenter.emit(e)},1),this.scheduleOnce(this.returnPrepareStage,3.5)):this.returnPrepareStage()}returnPrepareStage(){this.updateBtnState(!0),a.default.gameData.setGameStage(r.GameStage.Prepare)}updateBtnState(e){this.btnMenu.interactable=e,this.btnReset.interactable=e,this.btnReturn.interactable=e,this.btnSelectChip.interactable=e,this.btnPlay.interactable=e}updateBalance(){this.txtBalance.string="\u20b9"+u.UIUtils.getShortNumber(a.default.userData.getBalance(),!0),this.txtBet.string="\u20b9"+u.UIUtils.getShortNumber(this.playerBet,!0),0==this.playerBet&&a.default.gameData.getGameStage()==r.GameStage.Prepare?(this.txtTips.string=s.LocalLang.get("game_place_tips"),this.btnReset.interactable=!1,this.btnPlay.interactable=!1,this.btnReturn.interactable=!1):a.default.gameData.getGameStage()!=r.GameStage.Prepare?(this.btnReset.interactable=!1,this.btnPlay.interactable=!1,this.btnReturn.interactable=!1):(this.btnReset.interactable=!0,this.btnPlay.interactable=!0,this.btnReturn.interactable=!0)}updateBetSum(){let e=a.default.gameData;this.txtLeftBetSum.string=u.UIUtils.getShortNumber(e.getLeftBetSum()),this.txtTieBetSum.string=u.UIUtils.getShortNumber(e.getTieBetSum()),this.txtRightBetSum.string=u.UIUtils.getShortNumber(e.getRightBetSum())}updateSelectChip(){let e=a.default.homeData.getChipLst(),t=a.default.userData.getSelectChip();this.betAmount=e[t],this.selectChip.string=u.UIUtils.getShortNumber(this.betAmount)}betAreaShining(e,t=4){cc.tween(e.node).to(.25,{opacity:255},{easing:"smooth"}).to(.25,{opacity:0},{easing:"smooth"}).union().repeat(t).to(.25,{opacity:0},{easing:"smooth"}).start()}onChipSetting(e){this.updateSelectChip()}onWinResult(e){const t={mode:h.default.CacheMode.Frequent};let o=a.default.userData.getBalance();a.default.userData.setBalance(o+e.award),this.updateBalance(),h.default.show(r.PrefabList.AwardLayer,e.award,t)}};i([y({visible:!1})],b.prototype,"nowLanguage",void 0),i([y({type:cc.Enum(r.LangList),displayName:"\u8bed\u8a00"})],b.prototype,"language",null),i([y(cc.Label)],b.prototype,"txtBalance",void 0),i([y(cc.Label)],b.prototype,"txtBet",void 0),i([y(cc.Prefab)],b.prototype,"betChip",void 0),i([y(cc.Label)],b.prototype,"selectChip",void 0),i([y(cc.Label)],b.prototype,"txtTips",void 0),i([y(cc.Button)],b.prototype,"btnPlay",void 0),i([y(cc.Button)],b.prototype,"btnSelectChip",void 0),i([y(cc.Button)],b.prototype,"btnReset",void 0),i([y(cc.Button)],b.prototype,"btnMenu",void 0),i([y(cc.Button)],b.prototype,"btnReturn",void 0),i([y(cc.Button)],b.prototype,"btnRecord",void 0),i([y(cc.Button)],b.prototype,"btnTrend",void 0),i([y(p.default)],b.prototype,"pokerLeft",void 0),i([y(p.default)],b.prototype,"pokerRight",void 0),i([y(cc.Label)],b.prototype,"txtResult",void 0),i([y(cc.Label)],b.prototype,"txtLeftBetSum",void 0),i([y(cc.Label)],b.prototype,"txtTieBetSum",void 0),i([y(cc.Label)],b.prototype,"txtRightBetSum",void 0),i([y(cc.Button)],b.prototype,"btnLeftBet",void 0),i([y(cc.Button)],b.prototype,"btnTieBet",void 0),i([y(cc.Button)],b.prototype,"btnRightBet",void 0),i([y(cc.Sprite)],b.prototype,"imgLeftFrame",void 0),i([y(cc.Sprite)],b.prototype,"imgTieFrame",void 0),i([y(cc.Sprite)],b.prototype,"imgRightFrame",void 0),i([y(cc.Node)],b.prototype,"chipFlyStart",void 0),i([y(cc.Node)],b.prototype,"chipNode",void 0),i([s.onNotice(l.NtcChipSetting)],b.prototype,"onChipSetting",null),i([s.onNotice(l.NtcWinResult)],b.prototype,"onWinResult",null),b=i([f],b),o.default=b,cc._RF.pop()},{"../Business/Data/CommonDefine":"CommonDefine","../Business/Data/DataManager":"DataManager","../Business/Logic/GameNotice":"GameNotice","../MobileKit/MKIndex":"MKIndex","./BetChip":"BetChip","./Common/MessageView":"MessageView","./Common/PopupManager":"PopupManager","./Common/PrefabPool":"PrefabPool","./Common/UIUtils":"UIUtils","./PokerNode":"PokerNode","./RecordCell":"RecordCell"}],HeartBeatHandler:[function(e,t,o){"use strict";cc._RF.push(t,"cbbe6PK4uNJaqhiv8nPLltL","HeartBeatHandler"),Object.defineProperty(o,"__esModule",{value:!0}),o.HeartBeatHandler=void 0,o.HeartBeatHandler=class{constructor(){this.m_idle=10,this.m_maxMissCount=2,this.m_idleCallBack=null,this.m_timeOutCallBack=null,this.m_missCallBack=null,this.m_logName="",this.m_curMissCount=0,this.m_lastTickTime=-1,this.m_curIdle=-1,cc.director.getScheduler().enableForTarget(this)}set idle(e){this.m_idle=e}set maxMissCount(e){this.m_maxMissCount=e}set idleCallBack(e){this.m_idleCallBack=e}set timeOutCallBack(e){this.m_timeOutCallBack=e}set missCallBack(e){this.m_missCallBack=e}set logName(e){this.m_logName=e}startIdle(){this.clearState();let e=(new Date).getTime();this.m_lastTickTime=e,cc.director.getScheduler().unscheduleAllForTarget(this),cc.director.getScheduler().schedule(this.onIdleTime,this,1),cc.log(this.m_logName+" start idle.")}stopIdle(){this.m_curMissCount=0,this.m_lastTickTime=-1,cc.director.getScheduler().unscheduleAllForTarget(this),cc.log(this.m_logName+" stop idle.")}onReceiveHeartBeat(){this.clearState()}clearState(){this.m_curMissCount=0,this.m_curIdle=this.m_idle}sendIdle(){this.m_curMissCount++,2==this.m_curMissCount&&(cc.log(this.m_logName+" miss heart beat."),null!=this.m_missCallBack&&this.m_missCallBack()),this.m_maxMissCount>0&&this.m_curMissCount>this.m_maxMissCount?this.onHeartBeatTimeOut():null!=this.m_idleCallBack&&this.m_idleCallBack()}onIdleTime(e){let t=(new Date).getTime();this.m_lastTickTime>0&&(e=(t-this.m_lastTickTime)/1e3),this.m_lastTickTime=t,e>this.m_idle*this.m_maxMissCount?this.onHeartBeatTimeOut():(this.m_curIdle-=e,this.m_curIdle<=0&&(this.m_curIdle=this.m_idle,this.sendIdle()))}onHeartBeatTimeOut(){cc.log(this.m_logName+" heart beat time out."),this.stopIdle(),null!=this.m_timeOutCallBack&&this.m_timeOutCallBack()}},cc._RF.pop()},{}],HomeData:[function(e,t,o){"use strict";cc._RF.push(t,"43833cz8yRD7r9Zq0qV9kBo","HomeData"),Object.defineProperty(o,"__esModule",{value:!0}),o.HomeData=o.MaintainData=void 0;const i=e("./CommonDefine");o.MaintainData=class{constructor(){this.m_start=0,this.m_end=0,this.m_content=new Map,this.m_hasData=!1}isNearTime(){return this.m_hasData}isMaintainTime(){var e=(new Date).getTime();return e>this.m_start&&e<this.m_end}},o.HomeData=class{constructor(){this.m_chipsUnit=1,this.m_chipLst=[],this.m_gameStage=i.GameStage.Prepare}getChipsUnit(){return this.m_chipsUnit}setChipsUnit(e){this.m_chipsUnit=e}getChipLst(){return this.m_chipLst}setChipLst(e){this.m_chipLst=e}},cc._RF.pop()},{"./CommonDefine":"CommonDefine"}],LanguageLayer:[function(e,t,o){"use strict";cc._RF.push(t,"de8164TwFRB+LdFXf1H7BpI","LanguageLayer");var i=this&&this.__decorate||function(e,t,o,i){var n,s=arguments.length,a=s<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,i);else for(var r=e.length-1;r>=0;r--)(n=e[r])&&(a=(s<3?n(a):s>3?n(t,o,a):n(t,o))||a);return s>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});const n=e("../MobileKit/MKIndex"),s=e("./Common/PopupBase"),{ccclass:a,property:r,menu:c}=cc._decorator;let l=class extends s.default{constructor(){super(...arguments),this.langBtnArr=[],this.animationDuration=0,this.langIdx=0}static get path(){return"Scenes/Game/language_layer"}onLoad(){this.main||(this.main=this.node),n.noticeCenter.registAllNotice(this),this.langArr=["en","hi"];let e=n.LocalLang.getLanguage(),t=this.langArr.indexOf(e);t>=0&&(this.langBtnArr[t].check(),this.langIdx=t)}onTouchClose(){this.hide()}onTouchLang(e,t){this.langIdx=Number(t)}onTouchConfirm(){n.LocalLang.setLanguage(this.langArr[this.langIdx]),this.hide()}};i([r([cc.Toggle])],l.prototype,"langBtnArr",void 0),l=i([a],l),o.default=l,cc._RF.pop()},{"../MobileKit/MKIndex":"MKIndex","./Common/PopupBase":"PopupBase"}],LoadingConfig:[function(e,t,o){"use strict";cc._RF.push(t,"ce28cPR/G1B07ofLePg+SKH","LoadingConfig"),Object.defineProperty(o,"__esModule",{value:!0}),o.LoadingResLst=void 0,o.LoadingResLst=new Map,o.LoadingResLst.set("Common/MessageView",cc.Prefab),o.LoadingResLst.set("Scenes/Game/RecordCell",cc.Prefab),o.LoadingResLst.set("Scenes/Game/betChip",cc.Prefab),o.LoadingResLst.set("Scenes/Game/TrendCell",cc.Prefab),o.LoadingResLst.set("Sound/bgm_hall",cc.AudioClip),o.LoadingResLst.set("Texture/Game/Poker/clubs_1",cc.SpriteFrame),o.LoadingResLst.set("Texture/Game/Poker/clubs_2",cc.SpriteFrame),o.LoadingResLst.set("Texture/Game/Poker/clubs_3",cc.SpriteFrame),o.LoadingResLst.set("Texture/Game/Poker/clubs_4",cc.SpriteFrame),o.LoadingResLst.set("Texture/Game/Poker/clubs_5",cc.SpriteFrame),o.LoadingResLst.set("Texture/Game/Poker/clubs_6",cc.SpriteFrame),o.LoadingResLst.set("Texture/Game/Poker/clubs_7",cc.SpriteFrame),o.LoadingResLst.set("Texture/Game/Poker/clubs_8",cc.SpriteFrame),o.LoadingResLst.set("Texture/Game/Poker/clubs_9",cc.SpriteFrame),o.LoadingResLst.set("Texture/Game/Poker/clubs_10",cc.SpriteFrame),o.LoadingResLst.set("Texture/Game/Poker/clubs_j",cc.SpriteFrame),o.LoadingResLst.set("Texture/Game/Poker/clubs_q",cc.SpriteFrame),o.LoadingResLst.set("Texture/Game/Poker/clubs_k",cc.SpriteFrame),o.LoadingResLst.set("Texture/Game/Poker/clubs_down",cc.SpriteFrame),o.LoadingResLst.set("Texture/Game/Poker/diamonds_1",cc.SpriteFrame),o.LoadingResLst.set("Texture/Game/Poker/diamonds_2",cc.SpriteFrame),o.LoadingResLst.set("Texture/Game/Poker/diamonds_3",cc.SpriteFrame),o.LoadingResLst.set("Texture/Game/Poker/diamonds_4",cc.SpriteFrame),o.LoadingResLst.set("Texture/Game/Poker/diamonds_5",cc.SpriteFrame),o.LoadingResLst.set("Texture/Game/Poker/diamonds_6",cc.SpriteFrame),o.LoadingResLst.set("Texture/Game/Poker/diamonds_7",cc.SpriteFrame),o.LoadingResLst.set("Texture/Game/Poker/diamonds_8",cc.SpriteFrame),o.LoadingResLst.set("Texture/Game/Poker/diamonds_9",cc.SpriteFrame),o.LoadingResLst.set("Texture/Game/Poker/diamonds_10",cc.SpriteFrame),o.LoadingResLst.set("Texture/Game/Poker/diamonds_j",cc.SpriteFrame),o.LoadingResLst.set("Texture/Game/Poker/diamonds_q",cc.SpriteFrame),o.LoadingResLst.set("Texture/Game/Poker/diamonds_k",cc.SpriteFrame),o.LoadingResLst.set("Texture/Game/Poker/diamonds_down",cc.SpriteFrame),o.LoadingResLst.set("Texture/Game/Poker/hearts_down",cc.SpriteFrame),o.LoadingResLst.set("Texture/Game/Poker/j_black",cc.SpriteFrame),o.LoadingResLst.set("Texture/Game/Poker/j_red",cc.SpriteFrame),o.LoadingResLst.set("Texture/Game/Poker/joker_big",cc.SpriteFrame),o.LoadingResLst.set("Texture/Game/Poker/joker_small",cc.SpriteFrame),o.LoadingResLst.set("Texture/Game/Poker/k_black",cc.SpriteFrame),o.LoadingResLst.set("Texture/Game/Poker/k_red",cc.SpriteFrame),o.LoadingResLst.set("Texture/Game/Poker/poker_back",cc.SpriteFrame),o.LoadingResLst.set("Texture/Game/Poker/poker_bg",cc.SpriteFrame),o.LoadingResLst.set("Texture/Game/Poker/q_black",cc.SpriteFrame),o.LoadingResLst.set("Texture/Game/Poker/q_red",cc.SpriteFrame),o.LoadingResLst.set("Texture/Game/Poker/spades_down",cc.SpriteFrame),cc._RF.pop()},{}],LoadingScene:[function(e,t,o){"use strict";cc._RF.push(t,"b3227XK/V5PI5kdwcCTTjvS","LoadingScene");var i=this&&this.__decorate||function(e,t,o,i){var n,s=arguments.length,a=s<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,i);else for(var r=e.length-1;r>=0;r--)(n=e[r])&&(a=(s<3?n(a):s>3?n(t,o,a):n(t,o))||a);return s>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});const n=e("../MobileKit/MKIndex"),s=e("../Business/Data/DataManager"),a=e("../Business/Data/ConfigManager"),r=e("../Business/Data/CommonDefine"),c=e("../Business/Logic/SceneController"),l=e("./LoadingConfig"),u=e("../Business/Logic/GameController"),h=e("./Common/MessageView"),d=e("./TrendCell"),{ccclass:p,property:m,menu:g}=cc._decorator;let f=class extends cc.Component{constructor(){super(...arguments),this.label=null,this.urlConfig=null,this.appInfo=null,this.loadedSum=0}onLoad(){n.noticeCenter.registAllNotice(this),this.initApp()}initApp(){n.commandCenter.addController(new c.SceneController),s.default.init(),s.default.userData.setBalance(1e6),s.default.homeData.setChipLst([100,200,500,1e3,2e3,5e3,1e4,2e4,5e4,1e5]),s.default.homeData.setChipsUnit(100),n.LocalLang.setLanguage("en");let e=[{time:1649925504e3,betType:0,amount:5e3,result:1e4},{time:1649928353e3,betType:0,amount:15e3,result:1e4},{time:16553676e5,betType:2,amount:25e3,result:-25e3},{time:Date.now(),betType:1,amount:25e3,result:1e6},{time:1649925504e3,betType:1,amount:5e3,result:1e4},{time:1649928353e3,betType:0,amount:15e3,result:1e4},{time:16553676e5,betType:0,amount:25e3,result:-25e3},{time:Date.now(),betType:2,amount:25e3,result:1e6},{time:1649925504e3,betType:0,amount:5e3,result:1e4},{time:1649928353e3,betType:0,amount:15e3,result:1e4},{time:16553676e5,betType:0,amount:25e3,result:-25e3},{time:Date.now(),betType:0,amount:25e3,result:1e6},{time:1649925504e3,betType:1,amount:5e3,result:1e4},{time:1649928353e3,betType:2,amount:15e3,result:1e4},{time:16553676e5,betType:1,amount:25e3,result:-25e3},{time:Date.now(),betType:1,amount:25e3,result:1e6},{time:1649925504e3,betType:0,amount:5e3,result:1e4},{time:1649928353e3,betType:1,amount:15e3,result:1e4},{time:1655622671e3,betType:2,amount:25e3,result:-25e3},{time:Date.now()-864e5,betType:0,amount:25e3,result:1e6}];s.default.userData.setGameRecordLst(e);let t=[d.WinType.left,d.WinType.right,d.WinType.left,d.WinType.tie,d.WinType.left,d.WinType.right,d.WinType.right,d.WinType.left,d.WinType.right,d.WinType.left,d.WinType.left,d.WinType.left,d.WinType.left,d.WinType.tie,d.WinType.left,d.WinType.right,d.WinType.right,d.WinType.left,d.WinType.right,d.WinType.left,d.WinType.right,d.WinType.right,d.WinType.left,d.WinType.left,d.WinType.left,d.WinType.right,d.WinType.left,d.WinType.left,d.WinType.right,d.WinType.left,d.WinType.left,d.WinType.right,d.WinType.right,d.WinType.tie,d.WinType.left,d.WinType.right,d.WinType.right,d.WinType.left,d.WinType.right,d.WinType.left,d.WinType.left,d.WinType.right,d.WinType.left,d.WinType.left,d.WinType.right,d.WinType.right,d.WinType.right,d.WinType.left,d.WinType.right,d.WinType.left];t=[d.WinType.right,d.WinType.right,d.WinType.right,d.WinType.right,d.WinType.left,d.WinType.right,d.WinType.left,d.WinType.right,d.WinType.right,d.WinType.right,d.WinType.right,d.WinType.right,d.WinType.tie,d.WinType.tie,d.WinType.right,d.WinType.right,d.WinType.left,d.WinType.right,d.WinType.left,d.WinType.tie,d.WinType.left,d.WinType.right,d.WinType.left,d.WinType.left,d.WinType.left,d.WinType.left,d.WinType.right,d.WinType.right,d.WinType.left,d.WinType.left,d.WinType.right,d.WinType.right,d.WinType.right,d.WinType.tie,d.WinType.left,d.WinType.left,d.WinType.left,d.WinType.left,d.WinType.left,d.WinType.right,d.WinType.right,d.WinType.left,d.WinType.left,d.WinType.left,d.WinType.right,d.WinType.right,d.WinType.right,d.WinType.left,d.WinType.left,d.WinType.right],s.default.gameData.setTrendList(t),n.commandCenter.addController(new u.GameController),a.default.setUrlConfig(this.urlConfig.json),a.default.setAppInfo(this.appInfo.json),this.loadRes()}loadRes(){for(let[e,t]of l.LoadingResLst)cc.resources.load(e,t,this.onLoadProgress.bind(this),e=>{e&&cc.log("loading res error, ",e),this.loadedSum+=1,this.goToNextScene()})}onLoadProgress(e){}goToNextScene(){this.loadedSum==l.LoadingResLst.size&&(h.default.setDefaultSkin(cc.resources.get("Common/MessageView",cc.Prefab)),n.commandCenter.emit(new c.CmdScene(r.SceneType.Lobby)))}};i([m(cc.Label)],f.prototype,"label",void 0),i([m(cc.JsonAsset)],f.prototype,"urlConfig",void 0),i([m(cc.JsonAsset)],f.prototype,"appInfo",void 0),f=i([p],f),o.default=f,cc._RF.pop()},{"../Business/Data/CommonDefine":"CommonDefine","../Business/Data/ConfigManager":"ConfigManager","../Business/Data/DataManager":"DataManager","../Business/Logic/GameController":"GameController","../Business/Logic/SceneController":"SceneController","../MobileKit/MKIndex":"MKIndex","./Common/MessageView":"MessageView","./LoadingConfig":"LoadingConfig","./TrendCell":"TrendCell"}],LobbyScene:[function(e,t,o){"use strict";cc._RF.push(t,"5d65cjvHR5ABIhyPmNJdRaJ","LobbyScene");var i=this&&this.__decorate||function(e,t,o,i){var n,s=arguments.length,a=s<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,i);else for(var r=e.length-1;r>=0;r--)(n=e[r])&&(a=(s<3?n(a):s>3?n(t,o,a):n(t,o))||a);return s>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});const n=e("../MobileKit/MKIndex"),s=e("../Business/Data/CommonDefine"),a=e("../Business/Logic/SceneController"),{ccclass:r,property:c,menu:l}=cc._decorator;let u=class extends cc.Component{onLoad(){n.noticeCenter.registAllNotice(this),n.commandCenter.emit(new a.CmdScene(s.SceneType.Game))}onTouchStart(){n.commandCenter.emit(new a.CmdScene(s.SceneType.Game))}};u=i([r],u),o.default=u,cc._RF.pop()},{"../Business/Data/CommonDefine":"CommonDefine","../Business/Logic/SceneController":"SceneController","../MobileKit/MKIndex":"MKIndex"}],LowBalanceLayer:[function(e,t,o){"use strict";cc._RF.push(t,"4b20csg+IJOZo4kG4JnQjIw","LowBalanceLayer");var i=this&&this.__decorate||function(e,t,o,i){var n,s=arguments.length,a=s<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,i);else for(var r=e.length-1;r>=0;r--)(n=e[r])&&(a=(s<3?n(a):s>3?n(t,o,a):n(t,o))||a);return s>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});const n=e("./Common/PopupBase"),{ccclass:s,property:a,menu:r}=cc._decorator;let c=class extends n.default{constructor(){super(...arguments),this.animationDuration=0}static get path(){return"Scenes/Game/low_balance_layer"}onLoad(){this.main||(this.main=this.node),this.scheduleOnce(()=>{this.hide()},2)}};c=i([s],c),o.default=c,cc._RF.pop()},{"./Common/PopupBase":"PopupBase"}],MKActionQueue:[function(e,t,o){"use strict";cc._RF.push(t,"7733b8JdpNIHYxZ1k+2nx9N","MKActionQueue"),Object.defineProperty(o,"__esModule",{value:!0}),o.ActionQueue=void 0,o.ActionQueue=class{constructor(){this.m_actionQueue=null,this.m_delay=0,this.m_actionQueue=[],cc.director.getScheduler().enableForTarget(this),cc.director.getScheduler().scheduleUpdate(this,0,!1)}postAction(e,t){this.m_actionQueue.push({func:e,param:t})}setDelayTime(e){e<cc.macro.FLT_EPSILON||this.m_delay<e&&(this.m_delay=e)}clear(){this.clearDelayTime(),this.removeAllAction()}clearDelayTime(){this.m_delay=0}removeAllAction(){this.m_actionQueue.length=0}update(e){if(this.m_delay>0&&(this.m_delay-=e),this.m_actionQueue.length>0&&this.m_delay<cc.macro.FLT_EPSILON){var t=this.m_actionQueue.shift();t.func(t.param)}}onExit(){this.clear(),cc.director.getScheduler().unscheduleAllForTarget(this)}},cc._RF.pop()},{}],MKAudioEngine:[function(e,t,o){"use strict";cc._RF.push(t,"1950dWg/apGgKPh5p5a+7i+","MKAudioEngine"),Object.defineProperty(o,"__esModule",{value:!0}),o.AudioEngine=void 0;let i=!1,n=!1,s=null,a=!1;class r{static playEffect(e,t=!1){if(i){if(e instanceof cc.AudioClip)return cc.audioEngine.playEffect(e,t);{let o=cc.resources.get(e);if(null!=o)return cc.audioEngine.playEffect(o,t)}}return 0}static stopEffect(e){e>0&&cc.audioEngine.stopEffect(e)}static playMusic(e,t=!1){if(e instanceof cc.AudioClip)s=e;else{let t=cc.resources.get(e);null!=t&&(s=t)}a=t,n&&cc.audioEngine.playMusic(s,a)}static stopMusic(){s=null,cc.audioEngine.stopMusic()}static setEffectsVolume(e){cc.audioEngine.setEffectsVolume(e)}static setMusicVolume(e){cc.audioEngine.setMusicVolume(e)}static setEffectsEnabled(e){i=e,e||cc.audioEngine.stopAllEffects()}static setMusicEnabled(e){n=e,e?null!=s&&cc.audioEngine.playMusic(s,a):cc.audioEngine.stopMusic()}static setMute(e){r.setEffectsEnabled(!e),r.setMusicEnabled(!e)}static isMute(){return n&&i}static isMusicPlaying(){return cc.audioEngine.isMusicPlaying()}static pauseMusic(){cc.audioEngine.pauseMusic()}}o.AudioEngine=r,cc._RF.pop()},{}],MKCommandCenter:[function(e,t,o){"use strict";cc._RF.push(t,"36eecgRfGBIvrNItfzw/c9j","MKCommandCenter"),Object.defineProperty(o,"__esModule",{value:!0}),o.onCommand=o.commandCenter=o.CommandCenter=o.Controller=o.createCommand=void 0;let i=0;o.createCommand=function(e){e.Type="Command"+i++,e.prototype.getType=function(){return e.Type}},o.Controller=class{constructor(){this.name=""}setName(e){this.name=e}getName(){return this.name}onExit(){}};class n{constructor(){this.m_controllers=new Map,this.m_eventTarget=new cc.EventTarget}addController(e){var t=e.getName();this.m_controllers.get(t)?(cc.log("MKCommandCenter warning, controller already exist"),e.onExit()):this.m_controllers.set(t,e)}removeController(e){var t=this.m_controllers.get(e);t&&(t.onExit(),this.targetOff(t),this.m_controllers.delete(e))}hasController(e){return this.m_controllers.get(e)}on(e,t,o){this.m_eventTarget.on(e.Type,t,o)}off(e,t,o){this.m_eventTarget.off(e.Type,t,o)}registAllCommand(e){if(e.commandList)for(let t of e.commandList)this.on(t.command,e[t.methodName],e)}targetOff(e){this.m_eventTarget.targetOff(e)}emit(e){this.m_eventTarget.hasEventListener(e.getType())?this.m_eventTarget.emit(e.getType(),e):cc.log("MKCommandCenter err : no command handler, command type = "+e.getType())}}o.CommandCenter=n,o.commandCenter=new n,o.onCommand=function(e){return function(t,o){t.commandList||(t.commandList=[]),t.commandList.push({command:e,methodName:o})}},cc._RF.pop()},{}],MKCryptoUtils:[function(e,t,o){"use strict";cc._RF.push(t,"1ff71vS4J1NA7ytlCGJPgtt","MKCryptoUtils"),Object.defineProperty(o,"__esModule",{value:!0}),o.CryptoUtils=void 0,o.CryptoUtils=class{static md5(e){return CryptoJS.MD5(e).toString()}static base64Encode(e){var t=CryptoJS.enc.Utf8.parse(e);return CryptoJS.enc.Base64.stringify(t)}static base64Decode(e){return CryptoJS.enc.Base64.parse(e).toString(CryptoJS.enc.Utf8)}},cc._RF.pop()},{}],MKHttp:[function(e,t,o){"use strict";cc._RF.push(t,"0073dUDVQRAsofk0kRCNO0I","MKHttp"),Object.defineProperty(o,"__esModule",{value:!0}),o.Http=void 0;class i{static formatParams(e){let t="",o=!1;for(let i in e)o?t+="&":o=!0,t+=i+"="+e[i];return t}static get(e,t,o,n=i.ContentType.Form){let s=new XMLHttpRequest;s.onreadystatechange=function(){if(4==s.readyState)if(s.status>=200&&s.status<400){let i={};if(""!=s.responseText)try{i=JSON.parse(s.responseText)}catch(t){cc.log("http get result parse failed! url = %s",e)}o(!0,i)}else cc.log("http get error! code = %s, url = %s",s.status,e),o(!1,null)},s.onerror=function(){cc.log("http get error! url = %s",e),o(!1,null)},s.ontimeout=function(){cc.log("http get timeout! url = %s",e),o(!1,null)},n==i.ContentType.Json?(s.open("GET",e,!0),s.setRequestHeader("Content-Type","application/json; charset=utf-8"),s.send(t?JSON.stringify(t):null)):(t&&(e+="?"+i.formatParams(t)),s.open("GET",e,!0),s.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),s.send())}static post(e,t,o,n=i.ContentType.Form){let s=new XMLHttpRequest;s.onreadystatechange=function(){if(4==s.readyState)if(s.status>=200&&s.status<400){let i={};if(""!=s.responseText)try{i=JSON.parse(s.responseText)}catch(t){cc.log("http post result parse failed! url = %s",e)}o(!0,i)}else cc.log("http post error! code = %s, url = %s",s.status,e),o(!1,null)},s.onerror=function(){cc.log("http post error! url = %s",e),o(!1,null)},s.ontimeout=function(){cc.log("http post timeout! url = %s",e),o(!1,null)},s.open("POST",e,!0),n==i.ContentType.Json?(s.setRequestHeader("Content-Type","application/json; charset=utf-8"),s.send(t?JSON.stringify(t):null)):(s.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),s.send(t?i.formatParams(t):null))}static delete(e,t,o,n=i.ContentType.Form){let s=new XMLHttpRequest;s.onreadystatechange=function(){if(4==s.readyState)if(s.status>=200&&s.status<400){let i={};if(""!=s.responseText)try{i=JSON.parse(s.responseText)}catch(t){cc.log("http delete result parse failed! url = %s",e)}o(!0,i)}else cc.log("http delete error! code = %s, url = %s",s.status,e),o(!1,null)},s.onerror=function(){cc.log("http delete error! url = %s",e),o(!1,null)},s.ontimeout=function(){cc.log("http delete timeout! url = %s",e),o(!1,null)},n==i.ContentType.Json?(s.open("DELETE",e,!0),s.setRequestHeader("Content-Type","application/json; charset=utf-8"),s.send(t?JSON.stringify(t):null)):(t&&(e+="?"+i.formatParams(t)),s.open("DELETE",e,!0),s.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),s.send())}}o.Http=i,i.ContentType={Form:1,Json:2},cc._RF.pop()},{}],MKImageDownloader:[function(e,t,o){"use strict";cc._RF.push(t,"4919aB9yv1POaDSwtAZW/Qh","MKImageDownloader"),Object.defineProperty(o,"__esModule",{value:!0}),o.imageDowloader=o.ImageDownloader=void 0;const i=e("./MKCryptoUtils");class n{constructor(){this.m_observers=null,this.m_observers=[]}loadUrl(e,t){for(var o=!1,i=0,n=this.m_observers.length;i<n;++i){var s=this.m_observers[i];if(e==s.url){s.callback.push(t),o=!0;break}}o||(this.m_observers.push({url:e,callback:[t]}),this.downloadImage(e))}onDownloadImage(e,t){for(var o=this.m_observers.length-1;o>=0;--o){var i=this.m_observers[o];if(e==i.url){for(var n=i.callback,s=0;s<n.length;++s)n[s](e,t);this.m_observers.splice(o,1);break}}}downloadImage(e){var t=jsb.fileUtils.getWritablePath()+"net_image/",o=t+i.CryptoUtils.md5(e)+".jpg";if(jsb.fileUtils.isFileExist(o))this.onDownloadImage(e,o);else{jsb.fileUtils.isDirectoryExist(t)||jsb.fileUtils.createDirectory(t);var n=new XMLHttpRequest;n.onreadystatechange=function(){4===n.readyState&&(200===n.status?this.saveFile(e,o,n.response):cc.log("Remote download file failed."))}.bind(this),n.responseType="arraybuffer",n.open("GET",e,!0),n.send()}}saveFile(e,t,o){jsb.fileUtils.writeDataToFile(new Uint8Array(o),t)?this.onDownloadImage(e,t):cc.log("Remote write file failed.")}clearCache(){var e=jsb.fileUtils.getWritablePath()+"net_image/";jsb.fileUtils.listFiles(e).length>100&&jsb.fileUtils.removeDirectory(e)}}o.ImageDownloader=n,o.imageDowloader=new n,cc._RF.pop()},{"./MKCryptoUtils":"MKCryptoUtils"}],MKIndex:[function(e,t,o){"use strict";cc._RF.push(t,"0f526BZPmpBr7wVUh62Ltxm","MKIndex");var i=this&&this.__createBinding||(Object.create?function(e,t,o,i){void 0===i&&(i=o),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[o]}})}:function(e,t,o,i){void 0===i&&(i=o),e[i]=t[o]}),n=this&&this.__exportStar||function(e,t){for(var o in e)"default"===o||Object.prototype.hasOwnProperty.call(t,o)||i(t,e,o)};Object.defineProperty(o,"__esModule",{value:!0}),n(e("./Common/MKCryptoUtils"),o),n(e("./Common/MKLocalLang"),o),n(e("./Common/MKSystem"),o),n(e("./Common/MKUtils"),o),n(e("./Common/MKImageDownloader"),o),n(e("./Common/MKAudioEngine"),o),n(e("./Common/HeartBeatHandler"),o),n(e("./Event/MKCommandCenter"),o),n(e("./Event/MKNoticeCenter"),o),n(e("./Event/MKActionQueue"),o),n(e("./Network/MKHttp"),o),n(e("./Network/MKSocket"),o),cc._RF.pop()},{"./Common/HeartBeatHandler":"HeartBeatHandler","./Common/MKAudioEngine":"MKAudioEngine","./Common/MKCryptoUtils":"MKCryptoUtils","./Common/MKImageDownloader":"MKImageDownloader","./Common/MKLocalLang":"MKLocalLang","./Common/MKSystem":"MKSystem","./Common/MKUtils":"MKUtils","./Event/MKActionQueue":"MKActionQueue","./Event/MKCommandCenter":"MKCommandCenter","./Event/MKNoticeCenter":"MKNoticeCenter","./Network/MKHttp":"MKHttp","./Network/MKSocket":"MKSocket"}],MKLocalLang:[function(e,t,o){"use strict";cc._RF.push(t,"26623qYW/1OJ7PqJm16Um6d","MKLocalLang"),Object.defineProperty(o,"__esModule",{value:!0}),o.LocalLang=void 0;class i{static checkInit(){this.language||this.setLanguage("en")}static setLanguage(e){this.language!==e&&(this.language=e,this.reloadLabel(),this.reloadSprite())}static getLanguage(){return this.language}static _addOrDelLabel(e,t){if(t)this.labelArr.push(e);else{let t=this.labelArr.indexOf(e);-1!==t&&this.labelArr.splice(t,1)}}static get(e,t){if(this.checkInit(),null==t||0===t.length)return this.labelData[e]||e;let o=this.labelData[e]||e;for(let i=0;i<t.length;i++){let e=new RegExp("#"+i,"g");o=o.replace(e,t[i])}return o}static _addOrDelSprite(e,t){if(t)this.spriteArr.push(e);else{let t=this.spriteArr.indexOf(e);-1!==t&&this.spriteArr.splice(t,1)}}static _getSprite(e,t){this.checkInit(),cc.resources.load("i18n/sprite/"+this.language+"/"+e,cc.SpriteFrame,(e,o)=>{if(e)return t(null);t(o)})}static reloadLabel(){let e="i18n/label/"+this.language;cc.resources.load(e,(e,t)=>{e?(console.error(e),this.labelData={}):this.labelData=t.json;for(let o of this.labelArr)o._resetValue()})}static reloadSprite(){for(let e of this.spriteArr)e._resetValue()}}o.LocalLang=i,i.language="",i.labelArr=[],i.labelData={},i.spriteArr=[],cc._RF.pop()},{}],MKNoticeCenter:[function(e,t,o){"use strict";cc._RF.push(t,"79a78Glip9HQ5SpEWfy23e+","MKNoticeCenter"),Object.defineProperty(o,"__esModule",{value:!0}),o.onNotice=o.noticeCenter=o.NoticeCenter=o.createNotice=void 0;let i=0;o.createNotice=function(e){e.Type="Notice"+i++,e.prototype.getType=function(){return e.Type}};class n{constructor(){this.m_eventTarget=new cc.EventTarget}on(e,t,o){this.m_eventTarget.on(e.Type,t,o)}off(e,t,o){this.m_eventTarget.off(e.Type,t,o)}registAllNotice(e){if(e.noticeList)for(let t of e.noticeList)this.on(t.notice,e[t.methodName],e)}targetOff(e){this.m_eventTarget.targetOff(e)}emit(e){this.m_eventTarget.emit(e.getType(),e)}}o.NoticeCenter=n,o.noticeCenter=new n,o.onNotice=function(e){return function(t,o){t.noticeList||(t.noticeList=[]),t.noticeList.push({notice:e,methodName:o})}},cc._RF.pop()},{}],MKSocket:[function(e,t,o){"use strict";cc._RF.push(t,"9629bn3i9BIyKAXnP94lWgi","MKSocket"),Object.defineProperty(o,"__esModule",{value:!0}),o.onMsg=o.Socket=void 0;class i{constructor(){this.m_socket=null,this.m_eventTarget=new cc.EventTarget,this.m_connected=!1}connect(e){}disconnect(){this.m_connected=!1}isConnected(){return this.m_socket&&this.m_connected}send(e,t){}on(e,t,o){this.m_eventTarget.on(e.toString(),t,o)}off(e,t,o){this.m_eventTarget.off(e.toString(),t,o)}registAllMsg(e){if(e.msgList)for(let t of e.msgList)this.on(t.msgID,e[t.methodName],e)}targetOff(e){this.m_eventTarget.targetOff(e)}onConnect(e){this.m_connected=!0,this.m_eventTarget.emit(i.Connect,this,e)}onMessage(e){this.m_eventTarget.emit(i.Message,this,e),this.m_eventTarget.hasEventListener(e.msgID)?this.m_eventTarget.emit(e.msgID,e):cc.log("MKSocket err : no socket message handler, messageID = "+e.msgID)}onError(e){this.m_eventTarget.emit(i.Error,this,e),this.disconnect(),this.m_connected=!1}onClose(e){this.m_eventTarget.emit(i.Close,this,e),this.disconnect(),this.m_connected=!1}}o.Socket=i,i.Connect="Connect",i.Close="Close",i.Error="Error",i.Message="Message",o.onMsg=function(e){return function(t,o){t.msgList||(t.msgList=[]),t.msgList.push({msgID:e,methodName:o})}},cc._RF.pop()},{}],MKSystem:[function(e,t,o){"use strict";cc._RF.push(t,"a872ajJ9cJIZJgRz4rujdNB","MKSystem"),Object.defineProperty(o,"__esModule",{value:!0}),o.system=o.System=void 0;class i{constructor(){}getVersion(){return""}getVersionCode(){return 1}getPackageName(){return""}getMetaData(e){return""}getDeviceID(){return""}getLocation(){return""}getChannelID(){return""}copyStrToClipboard(e){}getFileMD5(e){return""}getPlatform(){return cc.sys.isNative?cc.sys.os==cc.sys.OS_ANDROID?cc.sys.OS_ANDROID:cc.sys.os==cc.sys.OS_IOS?cc.sys.OS_IOS:"Web":"Web"}getWakeUpData(){return""}shareText(e,t){}shareInWhatsApp(e){}}o.System=i;class n extends i{constructor(){super()}getVersion(){return"1.0.0"}getVersionCode(){return 1}getPackageName(){return"com.kbsgame.teenpatti"}getDeviceModel(){return""}getSystemVersion(){return""}getMetaData(e){return""}getLocation(){return""}getDeviceID(){return this.genMacFack()}getChannelID(){return"KBS"}genMacFack(){var e=cc.sys.localStorage.getItem("macFack");if(e)return e;e="";for(var t=0;t<6;t++){for(var o="",i=0;i<2;i++)o+="0123456789abcdef"[Math.ceil(15*Math.random())];e+=e?":"+o:o}return cc.sys.localStorage.setItem("macFack",e),e}}let s=null;s=cc.sys.isNative?cc.sys.os==cc.sys.OS_ANDROID?new class extends i{constructor(){super(),this.version="",this.versionCode=1,this.packageName="",this.channelID="",this.version=jsb.reflection.callStaticMethod("org/cocos2dx/lib/Cocos2dxHelper","getVersion","()Ljava/lang/String;"),this.packageName=jsb.reflection.callStaticMethod("org/cocos2dx/lib/Cocos2dxHelper","getPackageName","()Ljava/lang/String;"),this.channelID=this.getMetaData("APP_CHANNEL");try{this.versionCode=jsb.reflection.callStaticMethod("com/mk/common/MKSystem","getVersionCode","()J")}catch(e){}}getVersion(){return this.version}getVersionCode(){return this.versionCode}getPackageName(){return this.packageName}getDeviceModel(){return jsb.reflection.callStaticMethod("org/cocos2dx/lib/Cocos2dxHelper","getDeviceModel","()Ljava/lang/String;")}getSystemVersion(){return jsb.reflection.callStaticMethod("org/cocos2dx/lib/Cocos2dxHelper","getSystemVersion","()Ljava/lang/String;")}getMetaData(e){return jsb.reflection.callStaticMethod("com/mk/common/MKSystem","getMetaData","(Ljava/lang/String;)Ljava/lang/String;",e)}getDeviceID(){return jsb.reflection.callStaticMethod("com/mk/common/MKSystem","getDeviceID","()Ljava/lang/String;")}getLocation(){return jsb.reflection.callStaticMethod("com/mk/common/MKSystem","getLocation","()Ljava/lang/String;")}getChannelID(){return this.channelID}copyStrToClipboard(e){jsb.reflection.callStaticMethod("com/mk/common/MKSystem","copyStrToClipboard","(Ljava/lang/String;)V",e)}getFileMD5(e){return jsb.reflection.callStaticMethod("com/mk/common/MKSystem","getFileMD5","(Ljava/lang/String;)Ljava/lang/String;",e)}getWakeUpData(){return this.getVersionCode()<43?"":jsb.reflection.callStaticMethod("com/mk/common/MKSystem","getWakeUpData","()Ljava/lang/String;")}shareText(e,t){if(!(this.getVersionCode()<50))return jsb.reflection.callStaticMethod("com/mk/common/MKSystem","shareText","(Ljava/lang/String;Ljava/lang/String;)V",e,t)}shareInWhatsApp(e){if(!(this.getVersionCode()<50))return jsb.reflection.callStaticMethod("com/mk/common/MKSystem","shareToApp","(Ljava/lang/String;Ljava/lang/String;)V","com.whatsapp",e)}}:cc.sys.os==cc.sys.OS_IOS?new class extends i{constructor(){super(),this.version="",this.packageName="",this.channelID="",this.version=jsb.reflection.callStaticMethod("MKSystem","getAppVersion"),this.packageName=jsb.reflection.callStaticMethod("MKSystem","getPackageName"),this.channelID=this.getMetaData("APP_CHANNEL")}getVersion(){return this.version}getPackageName(){return this.packageName}getMetaData(e){return jsb.reflection.callStaticMethod("MKSystem","getMetaData:",e)}getDeviceID(){return jsb.reflection.callStaticMethod("MKSystem","getDeviceID")}getChannelID(){return this.channelID}copyStrToClipboard(e){jsb.reflection.callStaticMethod("MKSystem","copyStrToClipboard:",e)}getFileMD5(e){return jsb.reflection.callStaticMethod("MKSystem","getFileMD5:",e)}}:new n:new n,o.system=s,cc._RF.pop()},{}],MKUtils:[function(e,t,o){"use strict";cc._RF.push(t,"67818ViSbNBt7n0lfXcd04e","MKUtils"),Object.defineProperty(o,"__esModule",{value:!0}),o.Utils=void 0;class i{static randRange(e,t){return Math.floor(Math.random()*(t-e+1))+e}static strMaxCut(e,t){for(var o="",i=0,n=0;n<e.length;n++){var s=e[n];s.charCodeAt(0)>255?i+=2:i++,i<=t&&(o+=s)}return i>t?o+"...":o}static dateFormat(e,t){var o=new Date(t);let i;const n={"Y+":o.getFullYear().toString(),"m+":(o.getMonth()+1).toString(),"d+":o.getDate().toString(),"H+":o.getHours().toString(),"M+":o.getMinutes().toString(),"S+":o.getSeconds().toString()};for(let s in n)(i=new RegExp("("+s+")").exec(e))&&(e=e.replace(i[1],1==i[1].length?n[s]:n[s].padStart(i[1].length,"0")));return e}static getUrlParams(){if(cc.sys.isNative)return{};var e=window.location.search;return i.parseUrlParams(e)}static parseUrlParams(e){var t={},o=e.indexOf("?");if(-1!=o)for(var i=e.substr(o+1).split("&"),n=0;n<i.length;n++)t[i[n].split("=")[0]]=i[n].split("=")[1];return t}static resize(){var e=cc.find("Canvas").getComponent(cc.Canvas);this.curDR||(this.curDR=e.designResolution);var t=this.curDR,o=cc.view.getFrameSize(),i=o.width,n=o.height,s=i,a=n;i/n>t.width/t.height?s=(a=t.height)*i/n:a=n/i*(s=t.width),e.designResolution=cc.size(s,a),e.node.width=s,e.node.height=a,e.node.emit("resize")}static maxCountElement(e){let t={};for(let s=0;s<e.length;s++){let o=e[s];t[o]?t[o]++:t[o]=1}let o=0,i=[],n=[];for(let s in t)o<t[s]?(o=t[s],i[0]=s,n.length=0):o===t[s]&&n.push(s);if(n.length>0)for(let s=0;s<n.length;s++)i.push(n[s]);return i}static isEmail(e){return/^\w+((-\w+)|(\.\w+))*\@[A-Za-z0-9]+((\.|-)[A-Za-z0-9]+)*\.[A-Za-z]+$/.test(e)}static isPhone(e){return/^(\d*)$/.test(e)}static isUserName(e){return/^[A-Za-z0-9][A-Za-z0-9\s]*[A-Za-z0-9]$/.test(e)}}o.Utils=i,i.curDR=null,cc._RF.pop()},{}],MenuLayer:[function(e,t,o){"use strict";cc._RF.push(t,"0de2b6hsk5OQo/U/taIk3GO","MenuLayer");var i=this&&this.__decorate||function(e,t,o,i){var n,s=arguments.length,a=s<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,i);else for(var r=e.length-1;r>=0;r--)(n=e[r])&&(a=(s<3?n(a):s>3?n(t,o,a):n(t,o))||a);return s>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});const n=e("../MobileKit/MKIndex"),s=e("./Common/PopupBase"),a=e("./Common/PopupManager"),r=e("../Business/Data/CommonDefine"),{ccclass:c,property:l,menu:u}=cc._decorator;let h=class extends s.default{constructor(){super(...arguments),this.animationDuration=0,this.btnPaytable=null,this.btnHelp=null,this.btnLanguage=null,this.toggleMusic=null,this.imgSoundOn=null,this.imgSoundOff=null,this.soundOn=!1}static get path(){return"Scenes/Game/menu_layer"}onLoad(){this.main||(this.main=this.node),this.btnPaytable.on(cc.Node.EventType.TOUCH_END,this.onTouchPaytable,this),this.btnHelp.on(cc.Node.EventType.TOUCH_END,this.onTouchHelp,this),this.btnLanguage.on(cc.Node.EventType.TOUCH_END,this.onTouchLanguage,this),this.toggleMusic.spriteFrame=this.soundOn?this.imgSoundOn:this.imgSoundOff}onTouchClose(){this.hide()}onTouchPaytable(){a.default.show(r.PrefabList.PaytableLayer),this.hide()}onTouchHelp(){a.default.show(r.PrefabList.HelpLayer),this.hide()}onTouchLanguage(){a.default.show(r.PrefabList.LanguageLayer),this.hide()}onTouchSound(){this.soundOn=!this.soundOn,this.toggleMusic.spriteFrame=this.soundOn?this.imgSoundOn:this.imgSoundOff,n.AudioEngine.setEffectsEnabled(this.soundOn),n.AudioEngine.setMusicEnabled(this.soundOn)}};i([l(cc.Node)],h.prototype,"btnPaytable",void 0),i([l(cc.Node)],h.prototype,"btnHelp",void 0),i([l(cc.Node)],h.prototype,"btnLanguage",void 0),i([l(cc.Sprite)],h.prototype,"toggleMusic",void 0),i([l(cc.SpriteFrame)],h.prototype,"imgSoundOn",void 0),i([l(cc.SpriteFrame)],h.prototype,"imgSoundOff",void 0),h=i([c],h),o.default=h,cc._RF.pop()},{"../Business/Data/CommonDefine":"CommonDefine","../MobileKit/MKIndex":"MKIndex","./Common/PopupBase":"PopupBase","./Common/PopupManager":"PopupManager"}],MessageView:[function(e,t,o){"use strict";cc._RF.push(t,"37274+ofVBHI44C43AEa8uA","MessageView");var i,n=this&&this.__decorate||function(e,t,o,i){var n,s=arguments.length,a=s<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,i);else for(var r=e.length-1;r>=0;r--)(n=e[r])&&(a=(s<3?n(a):s>3?n(t,o,a):n(t,o))||a);return s>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});const{ccclass:s,property:a}=cc._decorator;let r=i=class extends cc.Component{constructor(){super(...arguments),this.imgBg=null,this.text=null}onLoad(){}onDestroy(){}animate(e=2){this.node.stopAllActions(),cc.tween(this.node).delay(e).call(()=>{this.node.removeFromParent()}).start()}show(e,t){this.text.string=e,this.animate(t)}static show(e,t){null!=i.defaultSkin?i.showWithFile(i.defaultSkin,e,t):cc.log("Please init MessageView defaultSkin on app init")}static showWithFile(e,t,o){null==i.g_persistRootNode&&(i.g_persistRootNode=new cc.Node,i.g_persistRootNode.width=cc.winSize.width,i.g_persistRootNode.height=cc.winSize.height,i.g_persistRootNode.x=cc.winSize.width/2,i.g_persistRootNode.y=cc.winSize.height/2,cc.game.addPersistRootNode(i.g_persistRootNode)),(i.g_persistRootNode.width<cc.winSize.width||i.g_persistRootNode.height<cc.winSize.height)&&(i.g_persistRootNode.width=cc.winSize.width,i.g_persistRootNode.height=cc.winSize.height,i.g_persistRootNode.x=cc.winSize.width/2,i.g_persistRootNode.y=cc.winSize.height/2);var n=i.g_persistRootNode,s=null,a=n.getChildByName("MessageView");null==a?((s=cc.instantiate(e).getComponent("MessageView")).node.setName("MessageView"),s.node.x=cc.winSize.width/2,s.node.y=cc.winSize.height/2,n.addChild(s.node)):s=a.getComponent("MessageView"),s.show(t,o)}};r.defaultSkin=null,r.setDefaultSkin=function(e){i.defaultSkin=e},r.g_persistRootNode=null,n([a(cc.Sprite)],r.prototype,"imgBg",void 0),n([a(cc.Label)],r.prototype,"text",void 0),r=i=n([s],r),o.default=r,cc._RF.pop()},{}],PaytableLayer:[function(e,t,o){"use strict";cc._RF.push(t,"d7eb0s+xJhFcZNoWpGlXYfD","PaytableLayer");var i=this&&this.__decorate||function(e,t,o,i){var n,s=arguments.length,a=s<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,i);else for(var r=e.length-1;r>=0;r--)(n=e[r])&&(a=(s<3?n(a):s>3?n(t,o,a):n(t,o))||a);return s>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});const n=e("./Common/PopupBase"),{ccclass:s,property:a,menu:r}=cc._decorator;let c=class extends n.default{constructor(){super(...arguments),this.animationDuration=0}static get path(){return"Scenes/Game/paytable_larer"}onLoad(){this.main||(this.main=this.node)}onTouchClose(){this.hide()}};c=i([s],c),o.default=c,cc._RF.pop()},{"./Common/PopupBase":"PopupBase"}],PokerData:[function(e,t,o){"use strict";var i,n;cc._RF.push(t,"49959S7SupJO7nuVF1YYdst","PokerData"),Object.defineProperty(o,"__esModule",{value:!0}),o.PokerData=o.PokerRedJoker=o.PokerBlackJoker=o.PokerCount=o.PokerPointCount=o.PokerPoint=o.PokerColor=void 0,function(e){e[e.Diamond=0]="Diamond",e[e.Club=1]="Club",e[e.Heart=2]="Heart",e[e.Spade=3]="Spade",e[e.Joker=4]="Joker"}(i=o.PokerColor||(o.PokerColor={})),function(e){e[e.PointA=0]="PointA",e[e.Point2=1]="Point2",e[e.Point3=2]="Point3",e[e.Point4=3]="Point4",e[e.Point5=4]="Point5",e[e.Point6=5]="Point6",e[e.Point7=6]="Point7",e[e.Point8=7]="Point8",e[e.Point9=8]="Point9",e[e.Point10=9]="Point10",e[e.PointJ=10]="PointJ",e[e.PointQ=11]="PointQ",e[e.PointK=12]="PointK",e[e.Joker=13]="Joker"}(n=o.PokerPoint||(o.PokerPoint={})),o.PokerPointCount=13,o.PokerCount=54,o.PokerBlackJoker=52,o.PokerRedJoker=53;class s{constructor(){this.color=0,this.point=-1,this.code=-1,this.color=0,this.point=-1,this.code=-1}init(e){this.code=e,this.point=s.getPokerPoint(e),this.color=s.getPokerColor(e)}getPoint(){return this.point}getColor(){return this.color}getCode(){return this.code}static getPokerPoint(e){return s.isJoker(e)?n.Joker:(e%=o.PokerCount)%o.PokerPointCount}static getPokerColor(e){return s.isJoker(e)?i.Joker:(e%=o.PokerCount,Math.floor(e/o.PokerPointCount))}static isJoker(e){return(e%=o.PokerCount)==o.PokerBlackJoker||e==o.PokerRedJoker}}o.PokerData=s,cc._RF.pop()},{}],PokerNode:[function(e,t,o){"use strict";cc._RF.push(t,"63e095MnllNM6rVQopCo5Uy","PokerNode");var i=this&&this.__decorate||function(e,t,o,i){var n,s=arguments.length,a=s<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,i);else for(var r=e.length-1;r>=0;r--)(n=e[r])&&(a=(s<3?n(a):s>3?n(t,o,a):n(t,o))||a);return s>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});const n=e("../Business/Data/PokerData"),{ccclass:s,property:a,menu:r}=cc._decorator;let c=class extends cc.Component{constructor(){super(),this.upNumber=null,this.upImage=null,this.imgPokerBK=null,this.downImage=null,this.poker=new n.PokerData}setPoker(e){this.poker.init(e),this.makePoker()}getPokerData(){return this.poker}makePoker(){let e=this.poker.getCode(),t=this.poker.getPoint(),o=this.poker.getColor();e<0?(this.upNumber.node.active=!1,this.upImage.node.active=!1,this.downImage.node.active=!1,this.imgPokerBK.spriteFrame=cc.resources.get("Texture/Game/Poker/poker_back",cc.SpriteFrame)):n.PokerData.isJoker(e)?(this.upNumber.node.active=!1,this.upImage.node.active=!1,this.downImage.node.active=!1,this.imgPokerBK.spriteFrame=cc.resources.get("Texture/Game/Poker/joker_big",cc.SpriteFrame)):this.makeNormalPoker(t,o)}makeNormalPoker(e,t){let o="";switch(e){case n.PokerPoint.PointA:o="1";break;case n.PokerPoint.Point2:o="2";break;case n.PokerPoint.Point3:o="3";break;case n.PokerPoint.Point4:o="4";break;case n.PokerPoint.Point5:o="5";break;case n.PokerPoint.Point6:o="6";break;case n.PokerPoint.Point7:o="7";break;case n.PokerPoint.Point8:o="8";break;case n.PokerPoint.Point9:o="9";break;case n.PokerPoint.Point10:o="10";break;case n.PokerPoint.PointJ:o="j";break;case n.PokerPoint.PointQ:o="q";break;case n.PokerPoint.PointK:o="k"}let i="",s="",a="";switch(t){case n.PokerColor.Spade:i=cc.js.formatStr("clubs_%s",o),s="spades_down",a=e==n.PokerPoint.PointJ?"j_black":e==n.PokerPoint.PointQ?"q_black":e==n.PokerPoint.PointK?"k_black":"spades_down";break;case n.PokerColor.Heart:i=cc.js.formatStr("diamonds_%s",o),s="hearts_down",a=e==n.PokerPoint.PointJ?"j_red":e==n.PokerPoint.PointQ?"q_red":e==n.PokerPoint.PointK?"k_red":"hearts_down";break;case n.PokerColor.Club:i=cc.js.formatStr("clubs_%s",o),s="clubs_down",a=e==n.PokerPoint.PointJ?"j_black":e==n.PokerPoint.PointQ?"q_black":e==n.PokerPoint.PointK?"k_black":"clubs_down";break;case n.PokerColor.Diamond:i=cc.js.formatStr("diamonds_%s",o),s="diamonds_down",a=e==n.PokerPoint.PointJ?"j_red":e==n.PokerPoint.PointQ?"q_red":e==n.PokerPoint.PointK?"k_red":"diamonds_down"}this.upNumber.node.active=!0,this.upImage.node.active=!0,this.downImage.node.active=!0,this.imgPokerBK.spriteFrame=cc.resources.get("Texture/Game/Poker/poker_bg",cc.SpriteFrame),this.upNumber.spriteFrame=cc.resources.get("Texture/Game/Poker/"+i,cc.SpriteFrame),this.upImage.spriteFrame=cc.resources.get("Texture/Game/Poker/"+s,cc.SpriteFrame),this.downImage.spriteFrame=cc.resources.get("Texture/Game/Poker/"+a,cc.SpriteFrame)}};i([a(cc.Sprite)],c.prototype,"upNumber",void 0),i([a(cc.Sprite)],c.prototype,"upImage",void 0),i([a(cc.Sprite)],c.prototype,"imgPokerBK",void 0),i([a(cc.Sprite)],c.prototype,"downImage",void 0),c=i([s,r("Home/PokerNode")],c),o.default=c,cc._RF.pop()},{"../Business/Data/PokerData":"PokerData"}],PopupBase:[function(e,t,o){"use strict";cc._RF.push(t,"b6107kAL7dMzqZ3iXRw2h4a","PopupBase");var i=this&&this.__decorate||function(e,t,o,i){var n,s=arguments.length,a=s<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,i);else for(var r=e.length-1;r>=0;r--)(n=e[r])&&(a=(s<3?n(a):s>3?n(t,o,a):n(t,o))||a);return s>3&&a&&Object.defineProperty(t,o,a),a},n=this&&this.__awaiter||function(e,t,o,i){return new(o||(o=Promise))(function(n,s){function a(e){try{c(i.next(e))}catch(t){s(t)}}function r(e){try{c(i.throw(e))}catch(t){s(t)}}function c(e){var t;e.done?n(e.value):(t=e.value,t instanceof o?t:new o(function(e){e(t)})).then(a,r)}c((i=i.apply(e,t||[])).next())})};Object.defineProperty(o,"__esModule",{value:!0});const{ccclass:s,property:a}=cc._decorator;let r=class extends cc.Component{constructor(){super(...arguments),this.background=null,this.main=null,this.animationDuration=.3,this.blocker=null,this.options=null,this.finishCallback=null}show(e,t){return n(this,void 0,void 0,function*(){this.options=e,this.init(e),this.updateDisplay(e),this.onBeforeShow&&(yield this.onBeforeShow()),null==t&&(t=t<0?0:this.animationDuration),yield this.playShowAnimation(t),this.onAfterShow&&this.onAfterShow()})}hide(e=!1,t){return n(this,void 0,void 0,function*(){const o=this.node;if(0!==t){let e=this.blocker;e||((e=this.blocker=new cc.Node("blocker")).addComponent(cc.BlockInputEvents),e.setParent(o),e.setContentSize(o.getContentSize())),e.active=!0}this.onBeforeHide&&(yield this.onBeforeHide(e)),null==t&&(t=t<0?0:this.animationDuration),yield this.playHideAnimation(t),this.blocker&&(this.blocker.active=!1),o.active=!1,this.onAfterHide&&this.onAfterHide(e),this.finishCallback&&this.finishCallback(e)})}playShowAnimation(e){return new Promise(t=>{const o=this.background,i=this.main;this.node.active=!0,o.active=!0,o.opacity=0,i.active=!0,i.scale=.5,i.opacity=0,cc.tween(o).to(.5*e,{opacity:150}).start(),cc.tween(i).to(e,{scale:1,opacity:255},{easing:"backOut"}).call(t).start()})}playHideAnimation(e){return new Promise(t=>{cc.tween(this.background).delay(.5*e).to(.5*e,{opacity:0}).start(),cc.tween(this.main).to(e,{scale:.5,opacity:0},{easing:"backIn"}).call(t).start()})}init(e){}updateDisplay(e){}onBeforeShow(){return new Promise(e=>e())}onAfterShow(){}onBeforeHide(e){return new Promise(e=>e())}onAfterHide(e){}onSuspended(){return new Promise(e=>e())}};i([a({type:cc.Node,tooltip:!1})],r.prototype,"background",void 0),i([a({type:cc.Node,tooltip:!1})],r.prototype,"main",void 0),r=i([s],r),o.default=r,cc._RF.pop()},{}],PopupManager:[function(e,t,o){"use strict";cc._RF.push(t,"c0ea1lR4GpK0bTmoo90xNjo","PopupManager");var i=this&&this.__awaiter||function(e,t,o,i){return new(o||(o=Promise))(function(n,s){function a(e){try{c(i.next(e))}catch(t){s(t)}}function r(e){try{c(i.throw(e))}catch(t){s(t)}}function c(e){var t;e.done?n(e.value):(t=e.value,t instanceof o?t:new o(function(e){e(t)})).then(a,r)}c((i=i.apply(e,t||[])).next())})};Object.defineProperty(o,"__esModule",{value:!0});const n=e("./PopupBase");var s,a;(function(e){e[e.Once=1]="Once",e[e.Normal=2]="Normal",e[e.Frequent=3]="Frequent"})(s||(s={})),function(e){e[e.Done=1]="Done",e[e.Failed=2]="Failed",e[e.Waiting=3]="Waiting"}(a||(a={}));class r{static get prefabCache(){return this._prefabCache}static get nodeCache(){return this._nodeCache}static get current(){return this._current}static get queue(){return this._queue}static get suspended(){return this._suspended}static get container(){return this._container||cc.Canvas.instance.node}static set container(e){this._container=e}static get CacheMode(){return s}static get ShowResultType(){return a}static show(e,t,o){return new Promise(s=>i(this,void 0,void 0,function*(){if(o=this.parseParams(o),this._current||this.locked){if(!o||!o.immediately)return this.push(e,t,o),void s(a.Waiting);this.locked=!1,yield this.suspend()}this._current={path:e,options:t,params:o};let r=this.getNodeFromCache(e);if(!cc.isValid(r)){this.loadStartCallback&&this.loadStartCallback();const t=yield this.load(e);if(this.loadFinishCallback&&this.loadFinishCallback(),!cc.isValid(t))return cc.warn("[PopupManager]","\u5f39\u7a97\u52a0\u8f7d\u5931\u8d25",e),this._current=null,void s(a.Failed);r=cc.instantiate(t)}const c=r.getComponent(n.default);if(!c)return cc.warn("[PopupManager]","\u672a\u627e\u5230\u5f39\u7a97\u7ec4\u4ef6",e),this._current=null,void s(a.Failed);this._current.popup=c,this._current.node=r,r.setParent(this.container),r.setSiblingIndex(cc.macro.MAX_ZINDEX),c.finishCallback=t=>i(this,void 0,void 0,function*(){t||(this.locked=this._suspended.length>0||this._queue.length>0,this.recycle(e,r,o.mode),this._current=null,s(a.Done),yield new Promise(e=>{cc.Canvas.instance.scheduleOnce(e,this.interval)}),this.next())}),c.show(t)}))}static hide(){cc.isValid(this._current.popup)&&this._current.popup.hide()}static getNodeFromCache(e){const t=this._nodeCache;if(t.has(e)){const o=t.get(e);if(cc.isValid(o))return o;t.delete(e)}const o=this._prefabCache;if(o.has(e)){const t=o.get(e);if(cc.isValid(t))return t.addRef(),cc.instantiate(t);o.delete(e)}return null}static next(){if(this._current||0===this._suspended.length&&0===this._queue.length)return;let e=null;if(e=this._suspended.length>0?this._suspended.shift():this._queue.shift(),this.locked=!1,cc.isValid(e.popup))return this._current=e,e.node.setParent(this.container),void e.popup.show(e.options);this.show(e.path,e.options,e.params)}static push(e,t,o){this._current||this.locked?(this._queue.push({path:e,options:t,params:o}),this._queue.sort((e,t)=>e.params.priority-t.params.priority)):this.show(e,t,o)}static suspend(){return i(this,void 0,void 0,function*(){if(!this._current)return;const e=this._current;this._suspended.push(e),yield e.popup.onSuspended(),yield e.popup.hide(!0),this._current=null})}static recycle(e,t,o){switch(o){case s.Once:this._nodeCache.delete(e),t.destroy(),this.release(e);break;case s.Normal:this._nodeCache.delete(e),t.destroy();break;case s.Frequent:t.removeFromParent(!1),this._nodeCache.set(e,t)}}static load(e){return new Promise(t=>{const o=this._prefabCache;if(o.has(e)){const i=o.get(e);if(cc.isValid(i))return void t(i);o.delete(e)}cc.resources.load(e,(i,n)=>{i?t(null):(o.set(e,n),t(n))})})}static release(e){const t=this._nodeCache;let o=t.get(e);o&&(t.delete(e),cc.isValid(o)&&o.destroy(),o=null);const i=this._prefabCache;let n=i.get(e);n&&(n.refCount<=1&&i.delete(e),n.decRef(),n=null)}static parseParams(e){return null==e?new c:"[object Object]"!==Object.prototype.toString.call(e)?(cc.warn("[PopupManager]","\u5f39\u7a97\u53c2\u6570\u65e0\u6548\uff0c\u4f7f\u7528\u9ed8\u8ba4\u53c2\u6570"),new c):(null==e.mode&&(e.mode=s.Normal),null==e.priority&&(e.priority=0),null==e.immediately&&(e.immediately=!1),e)}}o.default=r,r._prefabCache=new Map,r._nodeCache=new Map,r._current=null,r._queue=[],r._suspended=[],r.locked=!1,r._container=null,r.interval=.05,r.loadStartCallback=null,r.loadFinishCallback=null;class c{constructor(){this.mode=s.Normal,this.priority=0,this.immediately=!1}}cc._RF.pop()},{"./PopupBase":"PopupBase"}],PrefabPool:[function(e,t,o){"use strict";cc._RF.push(t,"66c96CKFiJAvYsrBV2ocv6V","PrefabPool");var i=this&&this.__decorate||function(e,t,o,i){var n,s=arguments.length,a=s<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,i);else for(var r=e.length-1;r>=0;r--)(n=e[r])&&(a=(s<3?n(a):s>3?n(t,o,a):n(t,o))||a);return s>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});const{ccclass:n,property:s}=cc._decorator;let a=class{static get(e,t=null){null==this.poolList[e]&&(this.poolList[e]=[]);let o,i=this.poolList[e];0==i.length?(o=cc.instantiate(cc.resources.get(e))).poolKey=e:o=i.pop();var n=t?o.getComponent(t):null;return n&&n.reuse&&n.reuse.apply(n,arguments),o}static put(e,t=null){let o=this.poolList[e.poolKey];if(o&&-1==o.indexOf(e)){e.removeFromParent(!1);var i=t?e.getComponent(t):null;i&&i.unuse&&i.unuse(),o.push(e)}}static clear(e){let t=this.poolList[e];if(t){for(let e=0,o=t.length;e<o;e++)t[e].destroy();t.length=0}}static clearAll(){for(let e in this.poolList)this.clear(e)}static size(e){let t=this.poolList[e];return t?t.length:0}};a.poolList={},a=i([n],a),o.default=a,cc._RF.pop()},{}],RecordCell:[function(e,t,o){"use strict";cc._RF.push(t,"e41eeLhiGZOyrvQDMXAqvhl","RecordCell");var i=this&&this.__decorate||function(e,t,o,i){var n,s=arguments.length,a=s<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,i);else for(var r=e.length-1;r>=0;r--)(n=e[r])&&(a=(s<3?n(a):s>3?n(t,o,a):n(t,o))||a);return s>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0}),o.RecordCell=o.RecordData=void 0;const n=e("../MobileKit/MKIndex"),s=e("./Common/UIUtils"),a=e("../Business/Data/CommonDefine");o.RecordData=class{};const{ccclass:r,property:c,menu:l}=cc._decorator;let u=class extends cc.Component{constructor(){super(...arguments),this.txtAmount=null,this.txtDate=null,this.txtSide=null,this.txtResult=null}onLoad(){}setData(e){this.txtDate.string=n.Utils.dateFormat("mm.dd.YYYY HH:MM:SS",e.time),this.txtAmount.string=s.UIUtils.getShortNumber(e.amount),this.txtSide.string=a.BetType[e.betType],e.result<=0?(this.txtResult.node.color=cc.Color.GRAY,this.txtResult.string=n.LocalLang.get("menu_records_lost")):(this.txtResult.node.color=cc.Color.GREEN,this.txtResult.string=s.UIUtils.getShortNumber(e.result))}};i([c(cc.Label)],u.prototype,"txtAmount",void 0),i([c(cc.Label)],u.prototype,"txtDate",void 0),i([c(cc.Label)],u.prototype,"txtSide",void 0),i([c(cc.Label)],u.prototype,"txtResult",void 0),u=i([r],u),o.RecordCell=u,cc._RF.pop()},{"../Business/Data/CommonDefine":"CommonDefine","../MobileKit/MKIndex":"MKIndex","./Common/UIUtils":"UIUtils"}],SceneController:[function(e,t,o){"use strict";cc._RF.push(t,"0e547EKRatPwbOjldagOfi/","SceneController");var i=this&&this.__decorate||function(e,t,o,i){var n,s=arguments.length,a=s<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,i);else for(var r=e.length-1;r>=0;r--)(n=e[r])&&(a=(s<3?n(a):s>3?n(t,o,a):n(t,o))||a);return s>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0}),o.SceneController=o.CmdScene=void 0;const n=e("../../MobileKit/MKIndex"),s=e("../Data/CommonDefine");let a=class{constructor(e){this.sceneType=e}};a=i([n.createCommand],a),o.CmdScene=a;class r extends n.Controller{constructor(){super(),this.setName("SceneController"),n.commandCenter.registAllCommand(this)}onCmdScene(e){let t=e.sceneType,o=null;t===s.SceneType.Game?o="Game":t==s.SceneType.Loading?o="Loading":t==s.SceneType.Lobby&&(o="Lobby"),null!=o&&cc.director.loadScene(o)}}i([n.onCommand(a)],r.prototype,"onCmdScene",null),o.SceneController=r,cc._RF.pop()},{"../../MobileKit/MKIndex":"MKIndex","../Data/CommonDefine":"CommonDefine"}],TrendCell:[function(e,t,o){"use strict";cc._RF.push(t,"757e8f22SdGj5Y1GuL0XOJN","TrendCell");var i=this&&this.__decorate||function(e,t,o,i){var n,s=arguments.length,a=s<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,i);else for(var r=e.length-1;r>=0;r--)(n=e[r])&&(a=(s<3?n(a):s>3?n(t,o,a):n(t,o))||a);return s>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0}),o.TrendCell=o.WinType=void 0;const n=e("../MobileKit/MKIndex");var s;(function(e){e[e.left=0]="left",e[e.tie=1]="tie",e[e.right=2]="right"})(s=o.WinType||(o.WinType={}));const{ccclass:a,property:r,menu:c}=cc._decorator;let l=class extends cc.Component{constructor(){super(...arguments),this.txtType=null}onLoad(){n.noticeCenter.registAllNotice(this)}setType(e){switch(e){case s.left:this.txtType.string="L",this.node.color=(new cc.Color).fromHEX("#E5B279");break;case s.tie:this.txtType.string="T",this.node.color=(new cc.Color).fromHEX("#13A195");break;case s.right:this.txtType.string="R",this.node.color=(new cc.Color).fromHEX("#00E5FD")}}};i([r(cc.Label)],l.prototype,"txtType",void 0),l=i([a],l),o.TrendCell=l,cc._RF.pop()},{"../MobileKit/MKIndex":"MKIndex"}],TrendLayer:[function(e,t,o){"use strict";cc._RF.push(t,"979427aWBtAjo/W/pI3hO2K","TrendLayer");var i=this&&this.__decorate||function(e,t,o,i){var n,s=arguments.length,a=s<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,i);else for(var r=e.length-1;r>=0;r--)(n=e[r])&&(a=(s<3?n(a):s>3?n(t,o,a):n(t,o))||a);return s>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});const n=e("../Business/Data/DataManager"),s=e("./Common/PopupBase"),a=e("./Common/PrefabPool"),r=e("../Business/Data/CommonDefine"),c=e("./TrendCell"),{ccclass:l,property:u,menu:h}=cc._decorator;let d=class extends s.default{constructor(){super(...arguments),this.txtLeftCount=null,this.txtTieCount=null,this.txtRightCount=null,this.txtLeftPercent=null,this.txtRightPercent=null,this.cellLayer=null,this.contrastBar=null,this.imgLast=null}static get path(){return"Scenes/Game/trend_layer"}onLoad(){this.main||(this.main=this.node)}updateDisplay(){this.showTrendList()}onTouchClose(){this.hide()}showTrendList(){let e=n.default.gameData.getTrendList(),t=0,o=0,i=0;e.length>=50&&(e=e.slice(0,50)),e.forEach(e=>{let n=a.default.get(r.PrefabList.TrendCell);switch(n.setParent(this.cellLayer),n.getComponent(c.TrendCell).setType(e),e){case c.WinType.left:t+=1;break;case c.WinType.tie:o+=1;break;case c.WinType.right:i+=1}}),this.imgLast.setParent(this.cellLayer.children[0]),this.txtLeftCount.string=t.toString(),this.txtTieCount.string=o.toString(),this.txtRightCount.string=i.toString();let s=t/(t+i);this.contrastBar.progress=s,this.txtLeftPercent.string=2*t+"%",this.txtRightPercent.string=2*i+"%"}};i([u(cc.Label)],d.prototype,"txtLeftCount",void 0),i([u(cc.Label)],d.prototype,"txtTieCount",void 0),i([u(cc.Label)],d.prototype,"txtRightCount",void 0),i([u(cc.Label)],d.prototype,"txtLeftPercent",void 0),i([u(cc.Label)],d.prototype,"txtRightPercent",void 0),i([u(cc.Node)],d.prototype,"cellLayer",void 0),i([u(cc.ProgressBar)],d.prototype,"contrastBar",void 0),i([u(cc.Node)],d.prototype,"imgLast",void 0),d=i([l],d),o.default=d,cc._RF.pop()},{"../Business/Data/CommonDefine":"CommonDefine","../Business/Data/DataManager":"DataManager","./Common/PopupBase":"PopupBase","./Common/PrefabPool":"PrefabPool","./TrendCell":"TrendCell"}],UIUtils:[function(e,t,o){"use strict";cc._RF.push(t,"42718I/3LJJtKtCYuOhAlRx","UIUtils"),Object.defineProperty(o,"__esModule",{value:!0}),o.UIUtils=o.UnitKilo=o.UnitLakh=o.UnitCrore=void 0;const i=e("../../Business/Data/DataManager");o.UnitCrore=1e7,o.UnitLakh=1e5,o.UnitKilo=1e3;class n{static flipToFront(e,t,o,i){return new Promise(n=>{const s=cc.tween,a=t,r=a/2;s(e).to(a,{scale:1.1}).start(),s(e).to(r,{eulerAngles:cc.v3(0,-270,0)},{easing:"quadIn"}).call(()=>{o&&o()}).to(r,{eulerAngles:cc.v3(0,0,0)},{easing:"quadOut"}).call(()=>{i&&i()}).call(n).start()})}static flipToBack(e,t,o,i){return new Promise(n=>{const s=cc.tween,a=t,r=a/2;s(e).to(a,{scale:1}).start(),s(e).to(r,{eulerAngles:cc.v3(0,-90,0)},{easing:"quadIn"}).call(()=>{o&&o()}).to(r,{eulerAngles:cc.v3(0,-180,0)},{easing:"quadOut"}).call(()=>{i&&i()}).call(n).start()})}static chipFly(e,t,o,i){o.setPosition(e.getPosition()),cc.tween(o).to(i,{position:cc.v3(t.x,t.y)},{easing:"sineInOut"}).start()}static promiseSleep(e){return new Promise(t=>cc.Canvas.instance.scheduleOnce(t,e))}}o.UIUtils=n,n.getShortNumber=function(e,t,s){e/=i.default.homeData.getChipsUnit();var a,r=Math.abs(e);return a=r>=o.UnitCrore?n.getShortStr(r,o.UnitCrore,"Cr"):r>=o.UnitLakh?n.getShortStr(r,o.UnitLakh,"L"):n.getSeparatorNumber(r,t),e<0?a="-"+a:e>0&&s&&(a="+"+a),a},n.getShortStr=function(e,t,o){var i=e/t;return n.getSeparatorNumber(i)+o},n.getSeparatorNumber=function(e,t=!1){var o=e%1;o=Math.floor(100*(o+cc.macro.FLT_EPSILON))/100;for(var i=Math.floor(e).toString(),n="",s=0,a=i.length;s<a;){var r=a-s;r>10?(n=n+i.substr(s,a-10)+",",s=a-10):r>7?(n=n+i.substr(s,a-7)+",",s=a-7):r>5?(n=n+i.substr(s,a-5)+",",s=a-5):r>3?(n=n+i.substr(s,a-3)+",",s=a-3):(n+=i.substr(s,a),s=a)}if(o>=.005){for(var c=o.toString();c.length<=3;)c+="0";n+=c.substr(1,c.length-1)}return 0==o&&t&&(n+=".00"),n},cc._RF.pop()},{"../../Business/Data/DataManager":"DataManager"}],UserData:[function(e,t,o){"use strict";cc._RF.push(t,"dad16pPzIBPJKEhCrLrDRq7","UserData"),Object.defineProperty(o,"__esModule",{value:!0}),o.default=class{constructor(){this.m_uid="",this.m_nickName="",this.m_cert="",this.m_isLogined=!1,this.m_headUrl="",this.m_balance=0,this.m_selectChip=4,this.m_gameRecordLst=[],this.reset()}reset(){this.m_uid="",this.m_nickName="",this.m_cert="",this.m_isLogined=!1,this.m_headUrl="",this.m_balance=0,this.m_selectChip=4,this.m_gameRecordLst=[]}setNickName(e){this.m_nickName=e}getNickName(){return this.m_nickName}setUid(e){this.m_uid=e}getUid(){return this.m_uid}setCert(e){this.m_cert=e}getCert(){return this.m_cert}setLogined(e){this.m_isLogined=e}isLogined(){return this.m_isLogined}getHeadUrl(){return this.m_headUrl}setHeadUrl(e){this.m_headUrl=e}getBalance(){return this.m_balance}setBalance(e){this.m_balance=e}getSelectChip(){return this.m_selectChip}setSelectChip(e){this.m_selectChip=e}getGameRecordLst(){return this.m_gameRecordLst}setGameRecordLst(e){this.m_gameRecordLst=e}},cc._RF.pop()},{}],i18nLabel:[function(e,t,o){"use strict";cc._RF.push(t,"3e7e1yL3ltF4Ld2ONOefDbB","i18nLabel");var i=this&&this.__decorate||function(e,t,o,i){var n,s=arguments.length,a=s<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,i);else for(var r=e.length-1;r>=0;r--)(n=e[r])&&(a=(s<3?n(a):s>3?n(t,o,a):n(t,o))||a);return s>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0}),o.i18nLabel=void 0;const n=e("./MKLocalLang"),{ccclass:s,property:a,executeInEditMode:r,disallowMultiple:c,requireComponent:l,menu:u}=cc._decorator;let h=class extends cc.Component{constructor(){super(...arguments),this.i18n_string="",this.i18n_params=[]}start(){n.LocalLang._addOrDelLabel(this,!0),this._resetValue()}get string(){return this.i18n_string}set string(e){this.i18n_string=e,this.setEndValue()}get params(){return this.i18n_params}set params(e){this.i18n_params=e,this.setEndValue()}init(e,t){this.i18n_string=e,this.i18n_params=t,this.setEndValue()}setEndValue(){let e=this.getComponent(cc.Label);cc.isValid(e)&&(e.string=n.LocalLang.get(this.i18n_string,this.i18n_params))}_resetValue(){this.string=this.i18n_string}onDestroy(){n.LocalLang._addOrDelLabel(this,!1)}};i([a({visible:!1})],h.prototype,"i18n_string",void 0),i([a({visible:!1})],h.prototype,"i18n_params",void 0),i([a({type:cc.String})],h.prototype,"string",null),i([a({type:[cc.String]})],h.prototype,"params",null),h=i([s,r,l(cc.Label),c,u("\u591a\u8bed\u8a00/i18nLabel")],h),o.i18nLabel=h,cc._RF.pop()},{"./MKLocalLang":"MKLocalLang"}],i18nSprite:[function(e,t,o){"use strict";cc._RF.push(t,"a8777HUMEtKZKZSmfQV4Q10","i18nSprite");var i=this&&this.__decorate||function(e,t,o,i){var n,s=arguments.length,a=s<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,i);else for(var r=e.length-1;r>=0;r--)(n=e[r])&&(a=(s<3?n(a):s>3?n(t,o,a):n(t,o))||a);return s>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0}),o.i18nSprite=void 0;const n=e("./MKLocalLang"),{ccclass:s,property:a,executeInEditMode:r,disallowMultiple:c,requireComponent:l,menu:u}=cc._decorator;let h=class extends cc.Component{constructor(){super(...arguments),this.i18n_string=""}start(){n.LocalLang._addOrDelSprite(this,!0),this._resetValue()}get string(){return this.i18n_string}set string(e){this.i18n_string=e;let t=this.getComponent(cc.Sprite);cc.isValid(t)&&n.LocalLang._getSprite(e,e=>{cc.isValid(t)&&(t.spriteFrame=e)})}_resetValue(){this.string=this.i18n_string}onDestroy(){n.LocalLang._addOrDelSprite(this,!1)}};i([a({visible:!1})],h.prototype,"i18n_string",void 0),i([a({type:cc.String})],h.prototype,"string",null),h=i([s,r,l(cc.Sprite),c,u("\u591a\u8bed\u8a00/i18nSprite")],h),o.i18nSprite=h,cc._RF.pop()},{"./MKLocalLang":"MKLocalLang"}]},{},["BetData","CommonDefine","ConfigManager","DataManager","GameData","HomeData","PokerData","UserData","GameController","GameNotice","SceneController","HeartBeatHandler","MKAudioEngine","MKCryptoUtils","MKImageDownloader","MKLocalLang","MKSystem","MKUtils","i18nLabel","i18nSprite","MKActionQueue","MKCommandCenter","MKNoticeCenter","MKIndex","MKHttp","MKSocket","AwardLayer","BetChip","ChipSettingLayer","AutoReleaseAssets","MessageView","PopupBase","PopupManager","PrefabPool","UIUtils","GameAction","GameRecordLayer","GameScene","LanguageLayer","LoadingConfig","LoadingScene","LobbyScene","LowBalanceLayer","MenuLayer","PaytableLayer","PokerNode","RecordCell","TrendCell","TrendLayer"]);